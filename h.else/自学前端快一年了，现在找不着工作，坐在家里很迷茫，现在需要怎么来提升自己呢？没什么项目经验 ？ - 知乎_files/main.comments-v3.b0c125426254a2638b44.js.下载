(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1014:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return J}));var r=n(29),o=n.n(r),c=n(30),i=n.n(c),a=n(40),u=n.n(a),l=n(123),s=n.n(l),d=n(63),f=n(0),h=n(146),p=n.n(h),m=n(507),b=n(508),v=n(46),g=n(135),j=n.n(g),w=n(309),O=n.n(w),y=["preset","onClick","as","inputRef","multiple","maxSize","disabled"];function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;return new Promise((function(r,o){var c=new FileReader;c.onload=function(){c.result instanceof ArrayBuffer?r(c.result):o(null)},c.onerror=function(){return o(null)},c.readAsArrayBuffer(e.slice(t,n))}))}var k,z=(k=[60,115,118,103],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0};return k.every((function(n,r){return n===e[t.offset+r]}))}),S=function(){var e=s()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t,0,8);case 3:return n=e.sent,e.abrupt("return",new Uint8Array(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=s()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",z(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A={content:"content",avatar:"avatar"},R={code:1,message:"当前素材文件过大，请重新上传"},C={code:2,message:"当前素材尺寸过大，请重新上传"},I={code:3,message:"当前素材尺寸过小，请重新上传"},N={code:4,message:"素材文件加载失败"},B={code:5,message:"暂不支持当前类型文件"},T=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t({error:null,image:n})},n.onerror=function(e){t({image:n,error:e})};try{n.src=URL.createObjectURL(e)}catch(e){t({image:n,error:e})}}))};function P(e){return M.apply(this,arguments)}function M(){return(M=s()(u.a.mark((function e(t){var n,r,o,c,i,a,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.preset,o=t.maxSize,e.next=3,T(n);case 3:return c=e.sent,i=c.error,a=c.image,e.next=8,E(n);case 8:return l=e.sent,e.abrupt("return",new Promise((function(e,t){if(l)t(B);else if(i)t(Object.assign(Object.assign({},N),{},{error:i}));else{var c=n.size,u=a.width,s=a.height;o&&"number"==typeof o&&c>1024*o*1024?t(R):(r===A.avatar?c>5242880&&t(R):r===A.content&&"image/gif"===(null==n?void 0:n.type)?(c>10485760&&t(R),Math.max(u,s)>1280&&t(C),Math.min(u,s)<120&&t(I)):r===A.content&&(c>20971520&&t(R),Math.max(u,s)>16384&&t(C)),e(n))}})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={avatar:{accept:[".jpg",".jpeg",".png",".gif",".webp"].join(",")},content:{accept:[".jpg",".jpeg",".png",".gif",".webp"].join(",")}},L=Object(f.forwardRef)((function(e,t){var n=e.preset,r=e.onClick,o=e.as,c=void 0===o?"div":o,a=e.inputRef,u=e.multiple,l=void 0!==u&&u,s=e.maxSize,h=e.disabled,m=void 0!==h&&h,b=i()(e,y),v=Object(f.useRef)(),g=Object(f.useCallback)((function(e,t){var r=b.beforeUpload,o=b.customUpload,c=b.onStart,i=b.onSuccess,a=b.onError;if((!r||r(e))&&o){var u={file:e,uid:t,status:"uploading"};c&&c(u),Promise.resolve().then((function(){return P({file:e,preset:n,maxSize:s})})).then((function(){return o({file:e})})).then((function(e){i&&i(Object.assign(Object.assign({},u),{},{status:"success",remoteInfo:e}))})).catch((function(e){a&&a(Object.assign(Object.assign({},u),{},{status:"error",remoteInfo:e}))})).finally((function(){var e;(null===(e=v.current)||void 0===e?void 0:e.value)&&(v.current.value="")}))}}),[s,n,b]),j=Object(f.useCallback)((function(e){var t=p()(),n=Array.prototype.slice.call(e);l?n.map((function(e){return g(e,t)})):g(n[0],t)}),[l,g]),w=Object(f.useCallback)((function(e){var t;null===(t=v.current)||void 0===t||t.click(),r&&r(e)}),[v,r]),O=Object(f.useCallback)((function(e){var t=e.target.files;t&&t.length&&j(t)}),[j]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(c,{ref:t,onClick:w,children:b.children}),Object(d.jsx)("input",{type:"file",accept:b.accept?b.accept:D[n].accept,style:{display:"none"},ref:a,multiple:l,disabled:m,onChange:O})]})}));function _(e){return t=e,"[object File]"!==Object.prototype.toString.call(t)?Promise.resolve(e):m.readOrientationCode(e).then((function(t){if(-1===t||1===t)return e;var n,r=window.URL.createObjectURL(e);return(n=r,new Promise((function(e,t){var r=new Image;r.src=n,r.onload=function(){return e(r)},r.onerror=t}))).then((function(e){return window.URL.revokeObjectURL(r),n=Object(b.drawImage)(e,t),new Promise((function(e){return n.toBlob(e,"image/jpeg")}));var n}))})).catch((function(){return e}));var t}var F=j()((function(e,t){return new Promise((function(n,r){var o=document.createElement("script");Object.assign(o,Object.assign({crossOrigin:""},t)),o.onload=function(){return n(o)},o.onerror=function(){return r(new Error("Load script from ".concat(e," failed")))},o.src=e;var c=document.head||document.getElementsByTagName("head")[0];(document.body||c).appendChild(o)}))})),U=function(){return"undefined"!=typeof window?location.host.includes("zhihu.dev"):void 0!==e&&"testing"===e.env.ZAE_ENV},K=function(){return"https://api.zhihu.".concat(U()?"dev":"com")};function H(e){var t=e.accessKeyId,n=e.accessKeySecret,r=e.stsToken;return F("https://unpkg.zhimg.com/ali-oss@6.8.0/dist/aliyun-oss-sdk.min.js").then((function(){return new window.OSS(Object.assign(Object.assign({},U()?{endpoint:"https://oss-cn-beijing.aliyuncs.com",bucket:"zhihu-pics-dev",cname:!1}:{endpoint:"https://zhihu-pics-upload.zhimg.com",bucket:"zhihu-pics",cname:!0}),{},{secure:!0,accessKeyId:t,accessKeySecret:n,stsToken:r}))}))}function V(e){var t=e.uploadId,n=e.objectKey,r=e.file,o=e.client,c=e.onProgress;return Promise.resolve(t&&o.listParts(n,t).then((function(e){return function(e,t){var n=t.uploadId,r=t.parts,o=t.name;return{file:e,uploadId:n,doneParts:r.map((function(e){var t=e.PartNumber;return{etag:e.ETag,number:Number(t)}})),partSize:Number(r[0].Size),name:o,fileSize:e.size}}(r,e)}))).then((function(e){return function e(t){var n=t.client,r=t.file,o=t.objectKey,c=t.onProgress,i=t.checkpoint,a=i;return n.multipartUpload(o,r,Object.assign({progress:function(e,t,n){if(a=t,c)return c(e,t,n)},mime:r.type,parallel:3,timeout:2e5,partSize:1048576},i&&{checkpoint:i})).catch((function(t){if(a!==i)return e({client:n,objectKey:o,file:r,checkpoint:a});throw t}))}({client:o,file:r,checkpoint:e,onProgress:c,objectKey:n})}))}function Z(e,t,n){return t=t||0,n=n||e.size,new Promise((function(r,o){var c=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=new O.a.ArrayBuffer,a=new FileReader;a.onload=function(e){i.append(e.target.result);var t=i.end();r(t)},a.onerror=function(){o()},a.readAsArrayBuffer(c.call(e,t,n))}))}function G(e){return new Promise((function(t){if(e.size>52428800)return Promise.all([Z(e,0,10485760),Z(e,Math.floor(26214400),Math.floor(26214400)+10485760),Z(e,41943040,52428800)]).then((function(n){return t(O.a.hash(n.join("")+e.size))}));Z(e).then((function(e){return t(e)}))}))}function W(e){var t=e.id,n=e.uploadResult;return fetch("".concat(K(),"/images/").concat(t,"/uploading_status"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify({upload_result:n})})}function Y(e){var t=e.file,n=e.hash,r=e.source,o=e.objectKey;if(!r)try{var c=new URL(location.href),i=c.hostname,a=c.pathname.match(/^\/([\w|-]+).*/),u="".concat(i,"/").concat(a?a[1]:"index");v.b.increment("imageUpload.components.default.no_source.".concat(u,".count"))}catch(e){console.warn(e)}return function(e){var t=e.hash,n=e.source;return fetch("".concat(K(),"/images"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({image_hash:t},n&&{source:n}))}).then((function(e){return e.status<=300?e.json():e.text().then((function(t){var n=new Error(t);throw n.status=e.status,n}))})).then((function(e){var t=e.upload_file,n=e.upload_token;return{uploadFile:{id:t.image_id,objectKey:t.object_key,state:t.state,uploadId:t.upload_id},uploadToken:n&&{accessKeyId:n.access_id,accessKeySecret:n.access_key,accessTimestamp:n.access_timestamp,accessToken:n.access_token,stsToken:n.access_token}}}))}({hash:n,source:r}).then((function(e){var c=e.uploadFile,i=e.uploadToken;return 1===c.state?c:H({accessKeyId:i.accessKeyId,accessKeySecret:i.accessKeySecret,stsToken:i.stsToken}).then((function(e){var i=c.objectKey,a=c.uploadId;return t.size<2097152?function(e){var t=e.client,n=e.objectKey,r=e.file;return t.put(n,r)}({objectKey:i,client:e,file:t}):V({objectKey:i,uploadId:a,client:e,file:t}).catch((function(e){if("SecurityTokenExpired"===e.code&&o!==c.objectKey)return Y({file:t,objectKey:c.objectKey,hash:n,source:r});throw e}))})).then((function(){return W({id:c.id,uploadResult:"success"}).then((function(){return c}))}),(function(e){throw W({id:c.id,uploadResult:"fail"}),e}))}))}function J(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpg";return e.type?e.type.split("/").pop():e.name?e.name.split(".").pop():t}(e);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.source,r=t.shouldRotateFromOrientation,o=void 0===r||r;return(o?_(e):Promise.resolve(e)).then((function(e){return G(e).then((function(t){return Y({file:e,hash:t,source:n})}))}))}(e,t).then((function(e){return(t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return t().then((function(r){return r||n>0&&e(t,n-1)}))}((function(){return t={id:e.id},n=t.id,fetch("".concat(K(),"/images/").concat(n),{credentials:"include",headers:{"Content-Type":"application/json"}}).catch((function(){return null})).then((function(e){return e&&(e.status<=300?e.json():e.text().then((function(t){var n=new Error(t);throw n.status=e.status,n})))})).then((function(e){return!e||"init"!==e.status&&"processing"!==e.status?e:null}));var t,n}),1/0),n=3e4,Promise.race([t,new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout error: ".concat(r)))}),n)}))])).catch((function(t){throw W({id:e.id,uploadResult:"timeout"}),t}));var t,n,r})).then((function(t){if(t&&"success"===t.status)return(r=URL.createObjectURL(e),new Promise((function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src=r}))).then((function(e){return Object.assign(Object.assign({},Object.keys(t).reduce((function(e,t){return t.endsWith("src")?Object.assign(Object.assign({},e),{},o()({},t,[e[t],n].join("."))):e}),t)),{},{data_rawwidth:e.width,data_rawheight:e.height,src:[t.original_src,n].join("."),hash:t.original_hash})}));var r,c=new Error(t&&t.status||"unknown");throw c.name="UploadImageError",c}))}}).call(this,n(223))},1050:function(e,t,n){"use strict";var r=n(24),o=n.n(r),c=n(105),i=n(374),a=n(0);function u(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var l=function(){return null};t.a=function(){var e={count:0},t={},n=function(n,r){Object.keys(t).forEach((function(o){var c=t[o];c[r](Number(o)),Number(o)!==n&&c.setIsTopLayer(Number(o)===e.count)}))};return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,d=Object(a.useMemo)((function(){return++e.count}),[]),f=Object(a.useState)((function(){return d===e.count})),h=u(o.a,f,2),p=h[0],m=h[1],b=Object(a.useRef)(!1),v=Object(c.a)((function(){t[d]={onMount:r,onUnmount:s,setIsTopLayer:m},n(d,"onMount")})),g=Object(c.a)((function(){b.current||(b.current=!0,e.count--,n(d,"onUnmount"),delete t[d])}));return Object(i.a)((function(){return v(),g})),{currentLayer:d,isTopLayer:p,unmount:g}}}},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(496),o=n.n(r);function c(e,t){e&&(e.focus(t),e instanceof HTMLInputElement&&e.select())}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=n(o()(t)),i=r.length;if(i){var a=r.indexOf(document.activeElement);-1===a?("prev"===e&&c(r[i-1]),"next"===e&&c(r[0])):("prev"===e&&c(r[(a-1+i)%i]),"next"===e&&c(r[(a+1)%i]))}}function a(e){i("next",e)}},1058:function(e,t,n){"use strict";var r=n(1242),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,c,i,a,u,l,s=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),a=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=o[t.format]||o.default;window.clipboardData.setData(c,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),a.selectNodeContents(l),u.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),c=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(c,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(a):u.removeAllRanges()),l&&document.body.removeChild(l),i()}return s}},1069:function(e,t,n){"use strict";var r=n(105),o=n(0),c=n(1050),i=n(1051),a=Object(c.a)();t.a=function(e){var t=e.onKeyDown,n=e.children,c=a().isTopLayer,u=Object(o.useRef)(),l=Object(o.useRef)(),s=Object(o.useRef)(0),d=Object(r.a)((function(e){c&&(null==t||t(e),e.defaultPrevented||"Tab"===e.key&&(e.preventDefault(),Object(i.c)(e.shiftKey?"prev":"next",u.current,(function(e){return e.filter((function(e){return"true"===e.contentEditable||!e.closest("[contentEditable]")}))}))))}));return Object(o.useLayoutEffect)((function(){return window.addEventListener("keydown",d),l.current=document.activeElement,s.current=window.setTimeout((function(){u.current&&!u.current.contains(document.activeElement)&&Object(i.b)(u.current)}),100),function(){window.removeEventListener("keydown",d),clearTimeout(s.current),l.current&&!l.current.closest("[contentEditable]")&&Object(i.a)(l.current)}}),[d]),Object(o.cloneElement)(o.Children.only(n),{ref:u})}},1119:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n(35),c=n(2),i=n(1),a=n(105),u=n(0),l=n(95),s=n(968),d=n(215),f=n(224);function h(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var p={comment_img:"comment_img",dynamic_top:"dynamic_top",comment_sticker:"comment_sticker",block_keyword:"block_keyword"},m=(r={},Object(c.a)(r,p.comment_img,"https://pic1.zhimg.com/v2-1b6677f81c2df41f55332474e15bc5a8.png"),Object(c.a)(r,p.dynamic_top,"https://pic1.zhimg.com/v2-e16a265a43592abd5b98fceef02a1614.png"),Object(c.a)(r,p.comment_sticker,"https://pic1.zhimg.com/v2-183a98cd480d24cd3e3246ba7a26303b.png"),Object(c.a)(r,p.block_keyword,"https://pic3.zhimg.com/v2-0ad4e8aa43c3279cc7536f2fb7ac8348.png"),r);t.b=Object(d.a)((function(e){var t=e.show,n=e.setShow,r=e.type,c=e.isLogin,d=Object(u.useState)(""),p=h(o.a,d,2),b=p[0],v=p[1],g=Object(u.useState)(!1),j=h(o.a,g,2),w=j[0],O=j[1],y=Object(f.b)(),x=Object(a.a)((function(){t&&n(!1)}));return Object(u.useEffect)((function(){!b&&c&&(O(!0),y("/api/v4/unlimited/vip_rights/popup?token="+r).then((function(e){v(e.payload.button.text)})).catch((function(){})).then((function(){O(!1)})))}),[t]),Object(i.b)(l.b,{css:{".Modal-content":{padding:0,marginTop:0}},onClose:x,children:t&&!w&&Object(i.c)(i.a,{children:[Object(i.b)("img",{alt:"",src:m[r],css:{height:"230px",width:"400px",display:"block"}}),Object(i.b)("div",{css:{padding:20},children:Object(i.b)("div",{role:"button",tabIndex:0,css:function(e){return{padding:8,background:"linear-gradient(135deg, ".concat(e.colors.GYL06A," 0.2%, ").concat(e.colors.GYL08A," 100%)"),borderRadius:3,textAlign:"center",fontsize:14,color:e.colors.GYL12A,userSelect:"none","&:hover":{cursor:"pointer"}}},onClick:s.a.show,children:b||"开通会员立即解锁"})})]})})}))},1123:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ArrowDownSmall24","data-old-api":"ArrowDownSmall24"},e),{className:"ZDI ZDI--ArrowDownSmall24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 13.248L8.22 9.223a.684.684 0 00-1.01 0 .796.796 0 000 1.075l4.15 4.42a.867.867 0 001.28 0l4.15-4.42a.796.796 0 000-1.075.684.684 0 00-1.01 0L12 13.248z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ArrowDownSmall24","data-old-api":"ArrowDown"},e),{className:"Zi Zi--ArrowDown"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 13.248L8.22 9.223a.684.684 0 00-1.01 0 .796.796 0 000 1.075l4.15 4.42a.867.867 0 001.28 0l4.15-4.42a.796.796 0 000-1.075.684.684 0 00-1.01 0L12 13.248z",fillRule:"evenodd",clipRule:"evenodd"}))}},1202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(260),o=function(){return Object(r.b)().isDarkMode?{}:{filter:"brightness(0.95)"}}},1217:function(e,t,n){var r=n(678),o=n(680),c=n(505),i=n(679);e.exports=function(e){return r(e)||o(e)||c(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ArrowRightAlt24","data-old-api":"ArrowRightAlt24"},e),{className:"ZDI ZDI--ArrowRightAlt24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M14.727 11.48a.63.63 0 010 1.04l-4.299 2.88c-.399.266-.926-.029-.926-.52V9.12c0-.491.527-.787.926-.52l4.299 2.88z"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ArrowRightAlt24","data-old-api":"TriangleArrowRight"},e),{className:"Zi Zi--TriangleArrowRight"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M14.727 11.48a.63.63 0 010 1.04l-4.299 2.88c-.399.266-.926-.029-.926-.52V9.12c0-.491.527-.787.926-.52l4.299 2.88z"}))}},1242:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},1638:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ImagePlus24","data-old-api":"ImagePlus24"},e),{className:"ZDI ZDI--ImagePlus24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 5.42a2.415 2.415 0 012.415-2.416h13.17a2.415 2.415 0 012.414 2.415V11.5a.75.75 0 01-1.5 0V5.42a.915.915 0 00-.915-.916H5.415a.915.915 0 00-.915.915v7.42a.75.75 0 01-1.5 0V5.42zm12.09 8.022a5.57 5.57 0 00-3.192 1.005l-2.053 1.435a8.52 8.52 0 01-4.882 1.538H4.5v1.16c0 .506.41.916.915.916H14a.75.75 0 010 1.5H5.415A2.415 2.415 0 013 18.58v-1.356c0-.72.585-1.305 1.305-1.305h.658a7.02 7.02 0 004.023-1.267l2.052-1.435a7.07 7.07 0 014.051-1.276h.191a.75.75 0 110 1.5h-.19zM6.5 8.937a2.417 2.417 0 114.833 0 2.417 2.417 0 01-4.833 0zm2.417-.917a.917.917 0 100 1.834.917.917 0 000-1.834zM19.5 14a.75.75 0 01.75.75v2h2a.75.75 0 010 1.5h-2v2a.75.75 0 01-1.5 0v-2h-2a.75.75 0 010-1.5h2v-2a.75.75 0 01.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ImagePlus24","data-old-api":"AddImage"},e),{className:"Zi Zi--AddImage"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 5.42a2.415 2.415 0 012.415-2.416h13.17a2.415 2.415 0 012.414 2.415V11.5a.75.75 0 01-1.5 0V5.42a.915.915 0 00-.915-.916H5.415a.915.915 0 00-.915.915v7.42a.75.75 0 01-1.5 0V5.42zm12.09 8.022a5.57 5.57 0 00-3.192 1.005l-2.053 1.435a8.52 8.52 0 01-4.882 1.538H4.5v1.16c0 .506.41.916.915.916H14a.75.75 0 010 1.5H5.415A2.415 2.415 0 013 18.58v-1.356c0-.72.585-1.305 1.305-1.305h.658a7.02 7.02 0 004.023-1.267l2.052-1.435a7.07 7.07 0 014.051-1.276h.191a.75.75 0 110 1.5h-.19zM6.5 8.937a2.417 2.417 0 114.833 0 2.417 2.417 0 01-4.833 0zm2.417-.917a.917.917 0 100 1.834.917.917 0 000-1.834zM19.5 14a.75.75 0 01.75.75v2h2a.75.75 0 010 1.5h-2v2a.75.75 0 01-1.5 0v-2h-2a.75.75 0 010-1.5h2v-2a.75.75 0 01.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}},1639:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"EmoHappy24","data-old-api":"EmoHappy24"},e),{className:"ZDI ZDI--EmoHappy24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 20.5a8.5 8.5 0 100-17 8.5 8.5 0 000 17zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",fillRule:"evenodd",clipRule:"evenodd"}),o.a.createElement("path",{d:"M10 10.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm6.5 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"}),o.a.createElement("path",{d:"M8.712 13.807a.75.75 0 01.98.406 2.488 2.488 0 001.352 1.347 2.503 2.503 0 003.263-1.347.75.75 0 011.386.575 3.99 3.99 0 01-2.164 2.159 4.004 4.004 0 01-5.222-2.16.75.75 0 01.405-.98z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"EmoHappy24","data-old-api":"Emotion"},e),{className:"Zi Zi--Emotion"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 20.5a8.5 8.5 0 100-17 8.5 8.5 0 000 17zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",fillRule:"evenodd",clipRule:"evenodd"}),o.a.createElement("path",{d:"M10 10.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm6.5 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"}),o.a.createElement("path",{d:"M8.712 13.807a.75.75 0 01.98.406 2.488 2.488 0 001.352 1.347 2.503 2.503 0 003.263-1.347.75.75 0 011.386.575 3.99 3.99 0 01-2.164 2.159 4.004 4.004 0 01-5.222-2.16.75.75 0 01.405-.98z",fillRule:"evenodd",clipRule:"evenodd"}))}},1788:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o,c=n(1360),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e){return"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},u=(r=c.b,o=function(e){return function(t,n,r){return r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(t,n,r)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a(e),c=n[0],u=n[1],l=n[2],s=(l.use||[]).concat(o);return r(c,u,i(i({},l),{use:s}))});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */},2275:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowRightAlt16","data-old-api":"ArrowRightAlt16"},e),{className:"ZDI ZDI--ArrowRightAlt16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"}))}},2425:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"Fliter16","data-old-api":"Fliter16"},e),{className:"ZDI ZDI--Fliter16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M2.06 3.078c-.577-.682-.092-1.728.802-1.728H13.14a1.05 1.05 0 01.803 1.726l-3.418 4.061v5.092c0 .43-.261.816-.66.975l-2.95 1.18a1.05 1.05 0 01-1.44-.975V7.113L2.06 3.078zm1.341-.428l3.125 3.693c.16.19.249.43.249.679v6.018l2.45-.98V7.046c0-.247.087-.487.247-.676l3.131-3.72H3.401z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"Fliter16","data-old-api":"VipFilter16"},e),{className:"ZDI ZDI--VipFilter16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M2.06 3.078c-.577-.682-.092-1.728.802-1.728H13.14a1.05 1.05 0 01.803 1.726l-3.418 4.061v5.092c0 .43-.261.816-.66.975l-2.95 1.18a1.05 1.05 0 01-1.44-.975V7.113L2.06 3.078zm1.341-.428l3.125 3.693c.16.19.249.43.249.679v6.018l2.45-.98V7.046c0-.247.087-.487.247-.676l3.131-3.72H3.401z",fillRule:"evenodd",clipRule:"evenodd"}))}},2717:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[Z]}function c(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===G}(e)||Array.isArray(e)||!!e[V]||!!e.constructor[V]||f(e)||h(e))}function i(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:W)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function u(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===a(e)?e.get(t):e[t]}function s(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return F&&e instanceof Map}function h(e){return U&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[Z];for(var n=W(t),r=0;r<n.length;r++){var o=n[r],c=t[o];!1===c.writable&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(t[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),g(e)||o(e)||!c(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&i(e,(function(e,t){return b(t,!0)}),!0)),e}function v(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function j(e){var t=J[e];return t||r(18,e),t}function w(){return L}function O(e,t){t&&(j("Patches"),e.u=[],e.s=[],e.v=t)}function y(e){x(e),e.p.forEach(z),e.p=null}function x(e){e===L&&(L=e.l)}function k(e){return L={p:[],l:L,h:e,m:!0,_:0}}function z(e){var t=e[Z];0===t.i||1===t.i?t.j():t.O=!0}function S(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||j("ES5").S(t,e,o),o?(n[Z].P&&(y(t),r(4)),c(e)&&(e=E(t,e),t.l||R(t,e)),t.u&&j("Patches").M(n[Z].t,e,t.u,t.s)):e=E(t,n,[]),y(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function E(e,t,n){if(g(t))return t;var r=t[Z];if(!r)return i(t,(function(o,c){return A(e,r,t,o,c,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return R(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=m(r.k):r.o;i(3===r.i?new Set(o):o,(function(t,c){return A(e,r,o,t,c,n)})),R(e,o,!1),n&&e.u&&j("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,i,a){if(o(i)){var l=E(e,i,a&&t&&3!==t.i&&!u(t.D,r)?a.concat(r):void 0);if(s(n,r,l),!o(l))return;e.m=!1}if(c(i)&&!g(i)){if(!e.h.F&&e._<1)return;E(e,i),t&&t.A.l||R(e,i)}}function R(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&b(t,n)}function C(e,t){var n=e[Z];return(n?p(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function B(e){e.o||(e.o=m(e.t))}function T(e,t,n){var r=f(t)?j("MapSet").N(t,n):h(t)?j("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,c=X;n&&(o=[r],c=q);var i=Proxy.revocable(o,c),a=i.revoke,u=i.proxy;return r.k=u,r.j=a,u}(t,n):j("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function P(e){return o(e)||r(22,e),function e(t){if(!c(t))return t;var n,r=t[Z],o=a(t);if(r){if(!r.P&&(r.i<4||!j("ES5").K(r)))return r.t;r.I=!0,n=M(t,o),r.I=!1}else n=M(t,o);return i(n,(function(t,o){r&&l(r.t,t)===o||s(n,t,e(o))})),3===o?new Set(n):n}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}n.d(t,"b",(function(){return $}));var D,L,_="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),F="undefined"!=typeof Map,U="undefined"!=typeof Set,K="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=_?Symbol.for("immer-nothing"):((D={})["immer-nothing"]=!0,D),V=_?Symbol.for("immer-draftable"):"__$immer_draftable",Z=_?Symbol.for("immer-state"):"__$immer_state",G=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},X={get:function(e,t){if(t===Z)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,o=I(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!c(r)?r:r===C(e.t,t)?(B(e),e.o[t]=T(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=I(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=C(p(e),t),c=null==o?void 0:o[Z];if(c&&c.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,o)&&(void 0!==n||u(e.t,t)))return!0;B(e),N(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,B(e),N(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},q={};i(X,(function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),q.deleteProperty=function(e,t){return q.set.call(this,e,t,void 0)},q.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};var Q=new(function(){function e(e){var t=this;this.g=K,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var u;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),c(e)){var l=k(t),s=T(t,e,void 0),d=!0;try{u=n(s),d=!1}finally{d?y(l):x(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return O(l,o),S(e,l)}),(function(e){throw y(l),e})):(O(l,o),S(u,l))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===H&&(u=void 0),t.F&&b(u,!0),o){var f=[],h=[];j("Patches").M(e,u,f,h),o(f,h)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,c=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return[e,r,o]})):[c,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){c(e)||r(8),o(e)&&(e=P(e));var t=k(this),n=T(this,e,void 0);return n[Z].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return O(n,t),S(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!K&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var c=j("Patches").$;return o(e)?c(e,t):this.produce(e,(function(e){return c(e,t)}))},e}()),$=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);t.a=$},2718:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ee}));var r=n(30),o=n.n(r),c=n(40),i=n.n(c),a=n(123),u=n.n(a),l=n(34),s=n.n(l),d=n(24),f=n.n(d),h=n(1),p=n(476),m=n(0),b=n.n(m),v=n(1360),g=n(1822),j=n(875),w=n(918),O=n(105),y=n(869),x=n(868),k=n(59),z=n(1317),S=n(1788),E=n(72),A=n.n(E),R=n(43),C=n.n(R),I=n(2396),N=n(885),B=n(1638),T=n(1639),P=n(1014),M=n(51),D=n(1548),L=n(5),_=n(8),F=n(382),U=n.n(F),K=n(50),H=["showCommentCheckModal"];function V(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Z=function(e){var t=e.show,n=void 0===t||t,r=e.onOk,o=e.onCancel;return Object(h.b)(g.a,{onClose:o,css:{".Modal-content":{margin:0,padding:0}},children:n&&Object(h.c)(h.a,{children:[Object(h.b)(k.Image,{width:"400px",height:"148px",src:"https://pic1.zhimg.com/v2-a30b656aafdfedb44e43cc0a603b9b4b.png"}),Object(h.b)(k.Text,{my:"24px",height:"30px",fontSize:"24px",textAlign:"center",color:"GBK02A",fontWeight:"bold",children:"评论可能包含不友善内容"}),Object(h.b)(k.Text,{minHeight:"48px",p:"0 24px 33px",fontSize:"14px",lineHeight:"1.71",color:"GBK02A",children:"友善的交流是沟通的起点，请遵守知乎社区规范，认真友善发言"}),Object(h.c)(k.Flex,{m:"0 25px 33px",css:{button:{flex:1,height:"32px",fontSize:"14px",lineHeight:1}},children:[Object(h.b)(j.a,{onClick:r,preset:"primary",css:function(e){return{marginRight:"18px",color:e.colors.GBL05A}},children:"继续发布"}),Object(h.b)(j.a,{onClick:o,preset:"primary",color:"blue",children:"返回修改"})]})]})})};var G=Object(m.createContext)({authorInfo:{},resourceId:"",resourceType:"",onSubmit:A.a,showCommentCheckModal:function(){return Promise.resolve(!1)}}),W=function(){return Object(m.useContext)(G)},Y="https://www.zhihu.com/api/v4/comment_v5",J=["爱","害羞","酷","大笑","发呆"],X=function(e){return{color:e.colors.GBL05A,fontSize:"24px",lineHeight:"24px",marginRight:"10px",svg:{width:"24px",height:"24px"}}},q=function(e,t,n){return"".concat(e,"_").concat(t).concat(n?"_".concat(n):"")},Q=function(e,t){var n=C.a.get(e);return Array.isArray(n)?n:t||[]},$=function(e,t,n){var r=q(e,t,n),o=Q("zhihu::comment_local_key").filter((function(e){return e.key!==r}));C.a.set("zhihu::comment_local_key",o)},ee=function(e,t,n,r){var o=e.toHTML();if(o&&!e.isEmpty){var c=q(t,n,r),i=Q("zhihu::comment_local_key").filter((function(e){return e.key!==c}));C.a.set("zhihu::comment_local_key",[{key:c,value:o}].concat(V(s.a,i.slice(0,4))))}else $(t,n,r)},te=function(){return Q("zhihu::comment_emoticon_local_key",J)},ne={disableEmoticon:!1,disablePicture:!1,isAnonymous:!1,placeHolder:"",canReply:!0,permission:{picture:{have:!0,isVipPrivilege:!0},emoji:{have:!0}}},re=function(){var e,t=W(),n=t.resourceType,r=t.resourceId,o=t.authorInfo,c=Object(S.a)("".concat(Y,"/").concat(n,"s/").concat(r,"/config")),i=c.data,a=c.isValidating;return!i||(null==o?void 0:o.id)&&(null===(e=i.placeHolder)||void 0===e?void 0:e.trim())||(i.placeHolder="写下你的评论..."),{data:i||ne,isValidating:a}},oe=Object(m.memo)((function(e){var t=e.url,n=re(),r=n.isValidating,o=n.data.isAnonymous;return t?r?Object(h.b)(k.Box,{size:"40px",mr:"10px",bg:"GBK10A",css:{borderRadius:"3px"}}):Object(h.b)(z.b,{url:o?z.a:t,size:40,css:{flex:"0 0 auto",marginRight:"10px"}}):null})),ce=b.a.forwardRef((function(e,t){var r=e.value,o=e.autoFocus,c=e.placeholder,i=e.maxLine,a=e.disabled,u=e.onChange,l=e.onBlur,s=e.onToggleActions,d=Object(O.a)((function(){a||s(!0)})),f=Object(y.a)((function(){return Promise.all([n.e(1),n.e(4),n.e(22),n.e(2),n.e(3),n.e(5),n.e(7),n.e(19),n.e(27),n.e(34)]).then(n.bind(null,877))}));return f?Object(h.b)("div",{css:{overflow:"hidden"},children:Object(h.b)("div",{css:i?{"::-webkit-scrollbar":{WebkitAppearance:"none",width:"16px"},marginRight:"-16px",maxHeight:24*(i+.5),overflowY:"scroll"}:null,children:Object(h.b)(f,{ref:t,allowMention:!0,allowPasteRichText:!1,outputBlockType:"p",allowInlineCode:!0,defaultValue:r.toHTML(),autoFocus:o,placeholder:c,readOnly:a,onChange:u,onFocus:d,onBlur:l,uploadImageError:A.a,css:function(e){return{border:"none !important",background:"none !important",fontSize:"15px",".Editable":{"&--focus":{background:"transparent"},"&-unstyled":{margin:"0 !important"}},".RichText":{padding:0},".Dropzone":{minHeight:"auto !important"},".public-DraftEditorPlaceholder-root":{color:e.colors.GBK06A}}}})})}):Object(h.b)("div",{css:{height:"24px"}})})),ie=function(e){return{fontSize:"15px",color:e.colors.GBL05A,"&.is-error":{color:e.colors.GRD03A}}},ae=function(e){var t=e.current,n=e.max,r=e.name,o=void 0===r?"字数":r,c=e.className,i=n-t;return t>n?Object(h.c)("span",{className:"".concat(c||""," is-error"),css:ie,children:[o,"已超过 ",-i," 个字"]}):Object(h.b)("span",{className:c,css:ie,children:i<=10&&"还可以输入 ".concat(i," 个字")})},ue=function(e){var t=e.valueLength,n=e.disabled,r=e.onSubmit,o=t>5e3;return Object(h.c)(k.Flex,{alignItems:"center",children:[Object(h.b)(ae,{max:5e3,current:t,css:{marginRight:"16px"}}),Object(h.b)(j.a,{preset:"primary",color:"blue",disabled:n||o,css:{lineHeight:"28px",fontWeight:"bold"},onClick:r,children:"发布"})]})},le=function(e,t){var n,r,o=parseInt(null!==(n=t)&&void 0!==n?n:120,10),c=parseInt(null!==(r=e)&&void 0!==r?r:120,10),i=Math.max(120,Math.min(202,c)),a=Math.max(120,Math.min(202,o)),u=Math.min(Math.max(c/o,.5),2);return{width:u>1?i:a*u,height:u>1?i/u:a,ratio:u}},se=function(e){var t=e.info,n=e.onRemove,r=Object(m.useState)(null),o=V(f.a,r,2),c=o[0],i=o[1],a=t.file,u=t.src,l=t.width,s=t.height;return Object(m.useEffect)((function(){if(!u){var e=new Image;return e.src=URL.createObjectURL(a),e.onload=function(){i(Object.assign(Object.assign({},le(e.width,e.height)),{},{src:e.src}))},function(){URL.revokeObjectURL(e.src)}}i(Object.assign(Object.assign({},le(l,s)),{},{src:u}))}),[a,u,l,s]),c?Object(h.c)(k.Box,{width:c.width,height:c.height,mt:"8px",css:{position:"relative",borderRadius:"4px",overflow:"hidden"},children:[Object(h.b)(k.Image,{width:"100%",height:"100%",src:c.src,css:{objectFit:"cover",objectPosition:c.ratio<1?"center top":"unset"}}),"success"!==t.status&&Object(h.b)(k.Flex,{flexDirection:"column",alignItems:"center",justifyContent:"center",css:function(e){return{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:e.colorMod(e.colors.GBK02B).alpha(.5)}},children:Object(h.b)(k.Text,{color:"GBK99A",fontSize:"12x",children:"error"===t.status?"上传失败":"上传中"})}),Object(h.b)(k.Box,{size:"16px",fontSize:"8px",lineHeight:"16px",bg:"rgba(0, 0, 0, 0.1)",color:"GBK99A",css:function(e){return{position:"absolute",top:"8px",right:"8px",borderRadius:"50%",textAlign:"center",cursor:"pointer",backgroundColor:e.colorMod(e.colors.GBK02A).alpha(.1)}},onClick:n,children:Object(h.b)(N.b,{center:!0,size:"10px"})})]}):null},de=function(e){var t=e.className;return Object(h.c)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"21",height:"14",fill:"none",children:[Object(h.b)("path",{d:"M7.486.504a6 6 0 1 0 0 12h7a6 6 0 1 0 0-12h-7z",fill:"url(#A)",stroke:"#f6f6f6"}),Object(h.c)("g",{fill:"#935d14",children:[Object(h.b)("path",{fillRule:"evenodd",d:"M8.459 9.431l2.465-5.366h-.916L8.401 7.751l-1.6-3.687h-.923L8.35 9.431h.109zm3.825 0V4.065h-.814v5.366h.814zm2.05 0V7.445h.284c.659 0 1.156-.153 1.491-.46s.502-.747.502-1.321c0-.496-.154-.887-.462-1.172s-.794-.427-1.458-.427h-1.178v5.366h.822zm.305-2.708h-.305V4.78h.378c.388 0 .664.09.829.27s.247.414.247.701c0 .268-.085.496-.254.686s-.468.285-.894.285z"}),Object(h.b)("path",{d:"M8.459 9.431v.146h.094l.039-.085-.133-.061zm2.465-5.366l.133.061.095-.207h-.228v.146zm-.916 0v-.146h-.096l-.038.088.134.058zM8.401 7.751l-.134.058.134.309.134-.309-.134-.058zm-1.6-3.687l.134-.058-.038-.088h-.096v.146zm-.923 0v-.146h-.229l.096.208.133-.061zM8.35 9.431l-.133.061.039.085h.094v-.146zm3.934 0v.146h.146v-.146h-.146zm0-5.366h.146v-.146h-.146v.146zm-.814 0v-.146h-.146v.146h.146zm0 5.366h-.146v.146h.146v-.146zm2.865 0v.146h.146v-.146h-.146zm0-1.986v-.146h-.146v.146h.146zm-.822-3.38v-.146h-.146v.146h.146zm0 5.366h-.146v.146h.146v-.146zm.822-2.708h-.146v.146h.146v-.146zm0-1.942v-.146h-.146v.146h.146zM8.592 9.492l2.465-5.366-.266-.122-2.465 5.366.266.122zm2.332-5.573h-.916v.293h.916v-.293zm-1.05.088L8.267 7.693l.268.117 1.607-3.687-.268-.117zM8.535 7.693l-1.6-3.687-.269.116 1.6 3.687.268-.116zM6.801 3.918h-.923v.293h.923v-.293zm-1.056.208l2.472 5.366.266-.122-2.472-5.366-.266.122zM8.35 9.577h.109v-.293H8.35v.293zm4.08-.146V4.065h-.293v5.366h.293zm-.146-5.512h-.814v.293h.814v-.293zm-.961.146v5.366h.293V4.065h-.293zm.146 5.512h.814v-.293h-.814v.293zm3.011-.146V7.445h-.293v1.986h.293zm-.146-1.839h.284v-.293h-.284v.293zm.284 0c.68 0 1.218-.158 1.589-.498l-.198-.216c-.297.273-.753.421-1.392.421v.293zm1.589-.498c.372-.341.549-.826.549-1.429h-.293c0 .545-.158.942-.454 1.214l.198.216zm.549-1.429c0-.529-.166-.962-.509-1.279l-.199.215c.272.252.415.6.415 1.064h.293zm-.509-1.279c-.347-.321-.877-.466-1.557-.466v.293c.648 0 1.09.14 1.358.388l.199-.215zm-1.557-.466h-1.178v.293h1.178v-.293zm-1.324.146v5.366h.293V4.065h-.293zm.146 5.512h.822v-.293h-.822v.293zm1.127-3.001h-.305v.293h.305v-.293zm-.159.146V4.78h-.293v1.942h.293zm-.146-1.796h.378v-.293h-.378v.293zm.378 0c.37 0 .597.087.721.223l.216-.198c-.205-.224-.532-.318-.937-.318v.293zm.721.223c.136.148.209.345.209.602h.293c0-.317-.092-.588-.286-.8l-.216.198zm.209.602c0 .234-.073.427-.217.589l.218.195a1.14 1.14 0 0 0 .292-.784h-.293zm-.217.589c-.128.143-.373.236-.785.236v.293c.441 0 .792-.097 1.003-.334l-.218-.195z"})]}),Object(h.b)("defs",{children:Object(h.c)("linearGradient",{id:"A",x1:"1.986",y1:"12.004",x2:"19.986",y2:"12.004",gradientUnits:"userSpaceOnUse",children:[Object(h.b)("stop",{stopColor:"#f8e2c4"}),Object(h.b)("stop",{offset:"1",stopColor:"#f3bb6c"})]})})]})},fe=function(e){var t=e.file;return Object(P.e)(t,{shouldRotateFromOrientation:!1})},he=function(e){var t,n=e.image,r=e.permission,o=e.disabled,c=e.onStatusChange,i=e.onSuccess,a=Object(m.useRef)(null),u=W(),l=u.authorInfo,s=u.onError,d=u.onNeedLogin,f=u.onNeedPurchaseVip,p=r||{},b=p.have,v=p.isVipPrivilege,g=null===(t=null==l?void 0:l.vipInfo)||void 0===t?void 0:t.isVip,w=Object(O.a)((function(){var e;(null==l?void 0:l.id)?!v||b?null===(e=a.current)||void 0===e||e.click():null==f||f("comment_img"):null==d||d()})),y=Object(O.a)((function(e){c({status:"uploading",file:e.file})})),x=Object(O.a)((function(e){if(n){var t=e.remoteInfo,r=t.src,o=t.data_rawheight,a=t.data_rawwidth,u={status:"success",file:e.file,width:a,height:o,src:r};c(u),i(u)}})),k=Object(O.a)((function(e){if(n){var t=e.remoteInfo,r=t.code,o=t.message;c(Object.assign(Object.assign({},n),{},{status:"error"})),null==s||s("commentImageUploadError",r&&o||"图片上传失败",e.remoteInfo)}}));return Object(h.c)(h.a,{children:[Object(h.b)(P.c,{inputRef:a,preset:"content",accept:"image/png,image/jpeg,image/gif",multiple:!1,customUpload:fe,onStart:y,onSuccess:x,onError:k,disabled:o}),Object(h.b)(M.a,{zaType:"Button",zaText:"图片",as:j.a,preset:"plain",icon:function(e){var t=e.center,n=e.text;return Object(h.c)("div",{css:{position:"relative"},children:[Object(h.b)(B.b,{center:t,text:n}),v&&(!b||g)&&Object(h.b)(de,{css:{position:"absolute",transform:"translate(-14px, -2.5px)",width:"20px !important",height:"13px !important"}})]})},disabled:o,onClick:w,css:X})]})},pe=[{stickerCount:47,title:"默认",iconUrl:"https://pic3.zhimg.com/v2-6fd9e32fd2ba18594bba0690ad9f2bb6.png",version:2,selectedIconUrl:null,type:"emoji",id:"1114161698310770688"}];var me=function(e){var t,n,r,o=e.list,c=e.activeId,i=e.onSelectTab,a=Object(m.useRef)(null),u=(t=a,n=Object(m.useRef)({left:0,x:0}),r=Object(m.useRef)(!1),{onMouseDown:Object(O.a)((function(e){var o;r.current=!0;var c=(null===(o=t.current)||void 0===o?void 0:o.scrollLeft)||0,i=e.clientX;n.current={left:c,x:i},e.preventDefault()})),onMouseMove:Object(O.a)((function(e){if(r.current){var o=e.clientX-n.current.x;t.current&&(t.current.scrollLeft=n.current.left-o)}})),onMouseUp:Object(O.a)((function(){r.current&&(r.current=!1)}))});return Object(h.b)(k.Box,{height:"40px",overflow:"hidden",children:Object(h.b)("ul",Object.assign(Object.assign({ref:a,css:function(e){return{margin:0,padding:0,width:"100%",height:"40px",paddingBottom:"17px",boxSizing:"content-box",backgroundColor:e.colors.GBK10A,overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"}}},u),{},{children:o.map((function(e){var t=e.id,n=e.iconUrl,r=t===c;return Object(h.b)("li",{css:function(e){return{margin:0,display:"inline-block",alignItems:"center",width:"50px",height:"40px",textAlign:"center",verticalAlign:"bottom",backgroundColor:r?e.colors.GBK99A:"none"}},onClick:function(){i(e)},children:Object(h.b)("img",{alt:"",src:n,height:"40px"})},t)}))}))})},be=function(e){var t=e.type,n=e.data,r=e.onClick,o="emoji"===t,c=o?{width:24,height:24}:{width:66,height:62},i=n.dynamicImageUrl,a=n.staticImageUrl,u=n.title,l=function(e){i&&(e.currentTarget.src=i)},s=function(e){i&&(e.currentTarget.src=a)};return Object(h.c)("li",{css:function(e){return{padding:"5px",display:"inline-flex",flexDirection:"column",alignItems:"center",textAlign:"center",":hover":{backgroundColor:e.colors.GBK10A,cursor:"pointer"}}},onClick:function(){return r(t,n)},onKeyPress:function(e){" "===e.key&&r(t,n)},tabIndex:0,children:[Object(h.b)("img",{src:n.staticImageUrl,alt:u,title:o?u:"",loading:"lazy",css:c,onMouseOver:l,onMouseOut:s,onFocus:l,onBlur:s}),o||Object(h.b)("span",{css:function(e){return{flexShrink:1,maxWidth:c.width,maxHeight:"14px",fontSize:"12px",lineHeight:"14px",marginTop:"2px",color:e.colors.GBK06A}},children:u})]})},ve=function(e){var t=Object(y.a)((function(){return Promise.all([n.e(106),n.e(121)]).then(n.t.bind(null,2722,7))}));return t?Object(h.b)(_.b,{children:function(n){var r=n.css;return Object(h.b)(t,Object.assign({containerClass:r({height:"185px",overflow:"hidden"}),wrapperClass:r({display:"flex",height:"185px"})},e))}}):Object(h.b)("div",{style:{height:"185px"}})},ge=Object(m.memo)((function(e){var t=e.type,n=e.groupId,r=e.onSelect,o=Object(m.useRef)(),c=function(e,t){var n,r="emoji"===t,o=Object(O.a)(u()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)();case 2:return t=e.sent,e.abrupt("return",{data:{stickers:Object(L.camelizeKeys)(t).slice(0,49)}});case 4:case"end":return e.stop()}}),e)})))),c=Object(S.a)("https://www.zhihu.com/api/v4/sticker-groups/".concat(e),r?o:null).data;return null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.stickers}(n,t),a=Object(m.useState)({active:0,count:0}),l=V(f.a,a,2),s=l[0],d=l[1],p=Object(m.useState)([]),b=V(f.a,p,2),v=b[0],g=b[1],j=Object(O.a)((function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.activeIndex;isNaN(t)||d({active:t,count:s.count})}));return Object(m.useEffect)((function(){if(!c)return g([]),void d({active:0,count:0});var e="emoji"===t?45:8;d({active:0,count:Math.ceil(c.length/e)}),g(U()(c,e))}),[t,c]),Object(h.c)(h.a,{children:[Object(h.b)(ve,{activeSlideKey:"".concat(n,"-").concat(s.active),shouldSwiperUpdate:!0,getSwiper:function(e){o.current=e},on:{slideChange:j},children:v.map((function(e,o){return Object(h.b)("div",{css:{width:"100%",flexShrink:0},children:Object(h.b)("ul",{css:{padding:"5px 5px 0",margin:0},children:e.map((function(e){return Object(h.b)(be,{data:e,type:t,onClick:r},e.id||e.title)}))})},"".concat(n,"-").concat(o))}))}),Object(h.b)(k.Flex,{justifyContent:"center",height:"4px",mb:"4px",children:s.count>1&&Array.from({length:s.count},(function(e,t){return Object(h.b)(k.Box,{sx:Object.assign({width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"GBK08A",margin:"0 4px",cursor:"pointer",":hover":{backgroundColor:"GBK05A"}},t===s.active&&{backgroundColor:"GBK05A"}),onClick:function(){return d({active:t,count:s.count})}},t)}))})]})})),je=function(e){var t,n=e.onSelect,r=(t=Object(S.a)("https://www.zhihu.com/api/v4/me/sticker-groups").data,(null==t?void 0:t.data)||pe),o=Object(m.useState)((function(){return r[0]})),c=V(f.a,o,2),i=c[0],a=c[1];return Object(m.useEffect)((function(){a(r[0])}),[r]),Object(h.c)(k.Box,{width:"316px",children:[Object(h.b)(ge,{type:i.type,groupId:i.id,onSelect:n}),Object(h.b)(me,{list:r,activeId:i.id,onSelectTab:a})]})},we=function(e){var t=e.show,n=e.target,r=e.onSelect,o=e.onClose;return Object(h.b)(w.a,{className:"EmoticonPopover",isOpen:t,arrowed:!0,listenResize:!0,globalClose:!0,target:n,onClose:o,placement:"bottom",children:Object(h.b)(je,{onSelect:r})})},Oe=Object(m.memo)((function(e){var t=e.name,n=e.onClick,r=W().emoticonList,o=null==r?void 0:r.find((function(e){return e.title===t}));return o?Object(h.b)(k.Image,{src:o.static_image_url,alt:o.title,ml:"10px",width:"20px",height:"20px",css:{cursor:"pointer"},onClick:function(){return n("emoji",o)}}):null})),ye=function(e){var t=e.onSelect,n=Object(m.useMemo)(te,[]);return W().emoticonList&&0!==n.length?Object(h.b)(k.Flex,{flexDirection:"row",alignItems:"center",sx:Object(I.a)({borderLeft:"1px solid",borderLeftColor:"GBK09A"}),children:n.map((function(e){return Object(h.b)(Oe,{name:e,onClick:t},e)}))}):null},xe=function(e){var t=e.inputRef,n=e.permission,r=e.onAddImage,o=Object(m.useRef)(null),c=W(),i=c.authorInfo,a=c.onNeedLogin,u=c.onNeedPurchaseVip,l=Object(x.a)(!1),d=V(f.a,l,2),p=d[0],b=d[1],v=(n||{}).have,g=Object(O.a)((function(){(null==i?void 0:i.id)?b.toggle():null==a||a()})),w=Object(O.a)((function(e,n){var o,c,i,a;if("emoji"===e)null===(o=t.current)||void 0===o||o.handleCommand("insert-text:".concat(n.placeholder)),i=n.title,(a=te()).includes(i)||C.a.set("zhihu::comment_emoticon_local_key",[i].concat(V(s.a,a.slice(0,J.length-1))));else if("vip"!==e||v){var l=n.id,d=n.title,f=n.dynamicImageUrl,h=n.staticImageUrl;r({status:"success",id:l,title:d,src:f||h,isEmoticon:!0}),null===(c=t.current)||void 0===c||c.focus(),b.off()}else null==u||u("comment_sticker"),b.off()}));return Object(h.c)(h.a,{children:[Object(h.b)(we,{target:o.current,show:p,onSelect:w,onClose:b.off}),Object(h.b)(M.a,{zaType:"Button",zaText:"表情",as:j.a,ref:o,preset:"plain",icon:T.b,css:X,onClick:g}),Object(h.b)(ye,{onSelect:w})]})},ke=Object(m.forwardRef)((function(e,t){var n=e.inputRef,r=e.showSection,o=e.onChangeImage,c=e.children,i=re().data,a=i.permission,u=i.disableEmoticon,l=i.disablePicture,s=a||{},d=s.picture,p=s.emoji,b=Object(m.useState)(null),v=V(f.a,b,2),g=v[0],j=v[1],w=Object(O.a)((function(){j(null),o(null)})),y=Object(O.a)((function(e){j(e),o(e)}));return Object(m.useImperativeHandle)(t,(function(){return{reset:w}})),Object(h.c)(h.a,{children:[g&&Object(h.b)(se,{info:g,onRemove:w}),r&&Object(h.c)(k.Flex,{mt:"8px",pt:"10px",justifyContent:"space-between",sx:Object(I.a)({borderTop:"1px solid",borderTopColor:"GBK09A"}),children:[Object(h.c)(k.Flex,{alignItems:"center",flex:"0 0 auto",children:[l||Object(h.b)(he,{image:g,permission:d,disabled:Boolean(g),onStatusChange:j,onSuccess:o}),u||Object(h.b)(xe,{inputRef:n,permission:p,onAddImage:y})]}),c]})]})})),ze=function(e){var t=W(),n=t.resourceType,r=t.resourceId,o=t.replyCommentId,c=Object(m.useRef)(null),i=Object(m.useState)((function(){var t=e?function(e,t,n){var r=Q("zhihu::comment_local_key"),o=q(e,t,n),c=r.find((function(e){return e.key===o}));return(null==c?void 0:c.value)||""}(n,r,o):"";return{toHTML:function(){return t},isEmpty:!t,length:t.length||0}})),a=V(f.a,i,2),u=a[0],l=a[1],s=Object(m.useState)(0),d=V(f.a,s,2),h=d[0],p=d[1],b=Object(O.a)((function(){e&&ee(u,n,r,o)}));return Object(m.useEffect)((function(){return b}),[b]),Object(m.useEffect)((function(){var e,t=Object(K.findDOMNode)(c.current);t&&p(u.isEmpty?0:(null===(e=t.innerText||t.textContent)||void 0===e?void 0:e.length)||0)}),[u]),{richInputRef:c,value:u,valueLength:h,setValue:l,onBlur:b}},Se=function(e){var t=e.className,n=e.authorInfo,r=e.isReply,o=e.localCache,c=e.placeholder,a=e.disabled,l=e.maxLine,s=e.autoFocus,d=ze(o),b=d.richInputRef,v=d.value,g=d.valueLength,j=d.setValue,w=d.onBlur,y=Object(m.useRef)(null),x=Object(m.useState)(null),z=V(f.a,x,2),S=z[0],E=z[1],A=function(e){var t=Object(m.useRef)(null),n=Object(m.useState)(e),r=V(f.a,n,2),o=r[0],c=r[1];return Object(m.useEffect)((function(){var e=function(e){var n,r;e.target&&document.body.contains(e.target)&&!(null===(n=t.current)||void 0===n?void 0:n.contains(e.target))&&!(null===(r=document.querySelector(".EmoticonPopover"))||void 0===r?void 0:r.contains(e.target))&&c(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),[o,c,t]}(!1),R=V(f.a,A,3),C=R[0],I=R[1],N=R[2],B=re().data,T=B.canReply,P=B.placeHolder,M=function(e,t,n,r,o){var c=W(),a=c.authorInfo,l=c.resourceId,s=c.resourceType,d=c.replyCommentId,f=c.onError,h=c.onNeedLogin,b=c.onSubmit,v=c.showCommentCheckModal,g=Object(p.b)(),j=Object(m.useRef)(!1),w=Object(O.a)((function(){var e,n;null===(e=t.current)||void 0===e||e.reset(),null===(n=r.current)||void 0===n||n.reset(),$(s,l,d)})),y=Object(O.a)(function(){var e=u()(i.a.mark((function e(t,n){var r,o,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.current){e.next=2;break}return e.abrupt("return");case 2:return j.current=!0,e.prev=3,e.next=6,g("".concat(Y,"/").concat(s,"s/").concat(l,"/comment"),{zsEncrypt:!0,method:"POST",body:Object(L.decamelizeKeys)({content:t,replyCommentId:d,unfriendlyCheck:n?"strict":"unstrict"})});case 6:o=e.sent,w(),b(o),e.next=23;break;case 11:if(e.prev=11,e.t0=e.catch(3),c=e.t0,40313!==(null==(a=null===(r=null==c?void 0:c.payload)||void 0===r?void 0:r.error)?void 0:a.code)){e.next=22;break}return e.next=18,v();case 18:e.sent&&(j.current=!1,y(t,!1)),e.next=23;break;case 22:null==f||f("commentSubmitError",(null==a?void 0:a.message)||c.statusMessage,c);case 23:return e.prev=23,j.current=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,11,23,26]])})));return function(t,n){return e.apply(this,arguments)}}());return Object(O.a)((function(){if(null==a?void 0:a.id){o&&ee(e,s,l,d);var t=e.isEmpty?"":e.toHTML();n&&(t+=function(e){var t=e.src;if(e.isEmoticon){var n=e.id,r=e.title;return'<a class="comment_sticker" href="'.concat(t,'" data-sticker-id="').concat(n,'">').concat(r||"[sticker]","</a>")}var o=e.width,c=e.height,i=e.title,a=t.includes(".gif")?"comment_gif":"comment_img";return'<a class="'.concat(a,"\" href='").concat(t,"' data-width='").concat(o||"","' data-height='").concat(c||"","'>[").concat(i||"图片","]</a>")}(n)),y(t,!0)}else null==h||h()}))}(v,b,S,y,o),D=Object(m.useMemo)((function(){return T&&c||P}),[T,c,P]);return Object(m.useEffect)((function(){s&&b.current&&b.current.focus()}),[s,b]),Object(h.c)(k.Flex,{ref:N,flex:"1 1 auto",className:t,children:[Boolean(r)||Object(h.b)(oe,{url:null==n?void 0:n.avatarUrl}),Object(h.c)(k.Box,{flex:"1 1 auto",p:"8px 12px",sx:{borderRadius:"4px",border:"1px solid",borderColor:"GBK09A"},children:[Object(h.b)(ce,{ref:b,disabled:a,value:v,autoFocus:s,placeholder:D,maxLine:l,onChange:j,onBlur:w,onToggleActions:I}),Object(h.b)(ke,{ref:y,inputRef:b,showSection:C,onChangeImage:E,children:Object(h.b)(ue,{disabled:v.isEmpty&&!S,valueLength:g,onSubmit:M})})]})]})},Ee=function(e){var t=Object(p.b)(),n=e.authorInfo,r=e.resourceId,c=e.resourceType,i=e.replyCommentId,a=e.emoticonList,u=e.onError,l=e.onNeedLogin,s=e.onNeedPurchaseVip,d=e.onSubmit,b=function(){var e=Object(m.useState)(!1),t=V(f.a,e,2),n=t[0],r=t[1],o=Object(m.useRef)(),c=Object(O.a)((function(){return r(!0),new Promise((function(e){o.current=e}))}));return{show:n,onOk:Object(O.a)((function(){var e;r(!1),null===(e=o.current)||void 0===e||e.call(o,!0),o.current=void 0})),onCancel:Object(O.a)((function(){var e;r(!1),null===(e=o.current)||void 0===e||e.call(o,!1),o.current=void 0})),showCommentCheckModal:c}}(),g=b.showCommentCheckModal,j=o()(b,H);return Object(h.c)(G.Provider,{value:Object(m.useMemo)((function(){return{authorInfo:n,resourceId:r,resourceType:c,replyCommentId:i,emoticonList:a,onError:u,onNeedLogin:l,onNeedPurchaseVip:s,onSubmit:d,showCommentCheckModal:g}}),[n,r,c,i,a,u,l,s,d,g]),children:[Object(h.b)(v.a,{value:{fetcher:t},children:Object(h.b)(Se,Object.assign({},e))}),Object(h.b)(Z,Object.assign({},j))]})}},2719:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ChatBubble24","data-old-api":"ChatBubble24"},e),{className:"ZDI ZDI--ChatBubble24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 4a8 8 0 104.267 14.768.75.75 0 01.623-.082l2.407.744-.73-2.358a.75.75 0 01.093-.638A8 8 0 0012 4zm-9.5 8a9.5 9.5 0 1117.603 4.961l.767 2.479a1.25 1.25 0 01-1.564 1.563l-2.538-.785A9.5 9.5 0 012.5 12z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ChatBubble24","data-old-api":"SpeechBalloonOutline"},e),{className:"Zi Zi--SpeechBalloonOutline"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 4a8 8 0 104.267 14.768.75.75 0 01.623-.082l2.407.744-.73-2.358a.75.75 0 01.093-.638A8 8 0 0012 4zm-9.5 8a9.5 9.5 0 1117.603 4.961l.767 2.479a1.25 1.25 0 01-1.564 1.563l-2.538-.785A9.5 9.5 0 012.5 12z",fillRule:"evenodd",clipRule:"evenodd"}))}},2720:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"Thumb24","data-old-api":"Thumb24"},e),{className:"ZDI ZDI--Thumb24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M13.22 8.75a1.5 1.5 0 01-.373-1.166l.114-1.022a3.326 3.326 0 00-1.64-3.246.88.88 0 00-1.321.762v.553c0 .501-.092.998-.272 1.466a4.918 4.918 0 01-4.59 3.153H4.5a.25.25 0 00-.25.25V19c0 .139.112.25.25.25H7c2.836 0 6.546.197 8.92.343a2.284 2.284 0 002.324-1.59l1.823-5.832a2.25 2.25 0 00-2.148-2.921h-3.581a1.5 1.5 0 01-1.118-.5zm1.26-2.5a4.826 4.826 0 00-2.407-4.232c-1.587-.919-3.573.226-3.573 2.06v.553c0 .317-.058.632-.172.928a3.418 3.418 0 01-3.19 2.191H4.5A1.75 1.75 0 002.75 9.5V19c0 .966.782 1.75 1.75 1.75H7c2.786 0 6.456.194 8.828.34a3.784 3.784 0 003.848-2.64l1.823-5.832c.754-2.414-1.05-4.868-3.58-4.868h-3.581l.114-1.023a4.86 4.86 0 00.029-.477z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"Thumb24","data-old-api":"LikeOutline"},e),{className:"Zi Zi--LikeOutline"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M13.22 8.75a1.5 1.5 0 01-.373-1.166l.114-1.022a3.326 3.326 0 00-1.64-3.246.88.88 0 00-1.321.762v.553c0 .501-.092.998-.272 1.466a4.918 4.918 0 01-4.59 3.153H4.5a.25.25 0 00-.25.25V19c0 .139.112.25.25.25H7c2.836 0 6.546.197 8.92.343a2.284 2.284 0 002.324-1.59l1.823-5.832a2.25 2.25 0 00-2.148-2.921h-3.581a1.5 1.5 0 01-1.118-.5zm1.26-2.5a4.826 4.826 0 00-2.407-4.232c-1.587-.919-3.573.226-3.573 2.06v.553c0 .317-.058.632-.172.928a3.418 3.418 0 01-3.19 2.191H4.5A1.75 1.75 0 002.75 9.5V19c0 .966.782 1.75 1.75 1.75H7c2.786 0 6.456.194 8.828.34a3.784 3.784 0 003.848-2.64l1.823-5.832c.754-2.414-1.05-4.868-3.58-4.868h-3.581l.114-1.023a4.86 4.86 0 00.029-.477z",fillRule:"evenodd",clipRule:"evenodd"}))}},2959:function(e,t,n){"use strict";n.r(t);var r=n(35),o=n(1),c=n(2716),i=n(170),a=n(869),u=n(374),l=n(105),s=n(968),d=n(13),f=n.n(d),h=n(72),p=n.n(h),m=n(0),b=n(21),v=n(20),g=n(962),j=n(1119),w=n(292),O=n(215),y=n(41),x=n(31),k=n(155);function z(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var S={fixed:"modal",bottom:"list"},E=function(e){var t=e.id,r=e.toggler,c=Object(a.a)((function(){return Promise.all([n.e(0),n.e(17),n.e(135)]).then(n.bind(null,1027))}));return c?Object(o.b)(c,{id:t,toggler:r}):null};t.default=Object(v.compose)(O.a)((function(e){var t=e.shown,n=e.className,a=e.resourceId,d=e.resourceType,h=e.author,v=e.isSelf,O=e.commentPattern,A=e.authRequired,R=e.hideFoldButton,C=e.hideBottomEditorShadow,I=e.byComment,N=e.targetLink,B=e.onMount,T=void 0===B?p.a:B,P=e.onClose,M=e.openInApp,D=Object(b.useSelector)(y.b)||{},L=Object(b.useDispatch)(),_=Object(m.useState)(!1),F=z(r.a,_,2),U=F[0],K=F[1],H=Object(m.useState)(""),V=z(r.a,H,2),Z=V[0],G=V[1],W=Object(m.useState)(""),Y=z(r.a,W,2),J=Y[0],X=Y[1],q=Object(m.useState)(null),Q=z(r.a,q,2),$=Q[0],ee=Q[1],te=Object(i.b)(),ne=te.Mobile,re=te.ZhihuHybrid;Object(u.a)(T);var oe=Object(l.a)((function(){A(p.a)()})),ce=Object(l.a)((function(e){"vip_badge"!==e?(G(e),K(!0)):s.a.show()})),ie=Object(l.a)((function(e){ne&&!re||ce(e)})),ae=Object(l.a)((function(e){X(e.id)})),ue=Object(l.a)((function(e){L(Object(k.n)(e.urlToken,!0))})),le=Object(l.a)((function(e,t){ee(t)})),se=Object(l.a)((function(e){L(Object(x.h)(e))})),de=Object(l.a)((function(e,t){L(Object(x.h)(t,"red"))}));return Object(o.c)("div",{style:{overflow:"unset"},children:[Object(o.b)(c.a,{shown:t,className:f()("Comments-container",n),css:{marginTop:"10px"},resourceId:a,resourceType:d,authorInfo:D,isResourceAuthor:(null==h?void 0:h.id)===D.id||v,displayType:S[O],hideFoldButton:R,hideBottomEditorShadow:C,anchorCommentId:I?String(I):null,targetLink:N,userHoverCard:E,onClose:P,onNeedLogin:oe,onNeedVip:ie,onReport:ae,onUserBlocked:ue,onShowImage:le,onMessage:se,onError:de,openInApp:M}),t&&Object(o.c)(o.a,{children:[Object(o.b)(j.b,{show:U,setShow:K,type:Z}),Object(o.b)(w.a,{shown:Boolean(J),onClose:function(){return X("")},urlToken:J,type:"comment",zaEnabled:!0}),$&&Object(o.b)(g.a,{img:$,css:{zIndex:"203 !important"},onClose:function(){return ee(null)}})]})]})}))},2960:function(e,t,n){"use strict";var r=n(1),o={display:"flex",flexDirection:"column",marginTop:"14px",marginBottom:"16px",".Button":{display:"block",width:"220px",margin:"0 auto",flex:"initial"},".Button + .Button":{marginTop:"28px"}},c={display:"flex",marginTop:"48px",".Button":{flex:1,"&:first-child:last-child":{width:"220px",margin:"0 auto",flex:"initial"}},".Button + .Button":{marginLeft:"16px"}};t.a=function(e){var t=e.className,n=e.direction,i=void 0===n?"vertical":n,a=e.children;return Object(r.b)("div",{className:t,css:"vertical"===i?o:c,children:a},void 0)}},2961:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"LockOpenFill24","data-old-api":"LockOpenFill24"},e),{className:"ZDI ZDI--LockOpenFill24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3.5 11.6A1.6 1.6 0 015.1 10h2.166c0-.177-.003-.377-.007-.594-.02-1.105-.048-2.662.35-3.996.246-.823.67-1.63 1.405-2.227.743-.603 1.73-.933 2.986-.933 1.11 0 2.013.257 2.725.74.71.481 1.171 1.146 1.468 1.86a.75.75 0 01-1.386.575c-.21-.508-.508-.912-.924-1.194-.415-.28-1.008-.481-1.883-.481-.985 0-1.616.253-2.04.598-.432.35-.724.856-.914 1.492-.324 1.085-.304 2.348-.287 3.46.004.242.007.476.007.7H18.9a1.6 1.6 0 011.6 1.6v7.8a1.6 1.6 0 01-1.6 1.6H5.1a1.6 1.6 0 01-1.6-1.6v-7.8zm4.75 3.9a.75.75 0 01.75-.75h6a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}},2962:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ArrowUpToLineSlash24","data-old-api":"ArrowUpToLineSlash24"},e),{className:"ZDI ZDI--ArrowUpToLineSlash24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M5 2.25a.75.75 0 000 1.5h14a.75.75 0 000-1.5H5zm7.75 9V7.63l5.762 4.94a.75.75 0 00.976-1.14l-6.99-5.99a.746.746 0 00-.357-.177.749.749 0 00-.63.167l-2.83 2.426a.75.75 0 00.977 1.14L11.25 7.63v3.62a.75.75 0 001.5 0zM6.32 9.88L4.97 8.53a.75.75 0 111.06-1.06l12.5 12.5a.75.75 0 11-1.06 1.06l-4.72-4.72V21a.75.75 0 01-1.5 0v-6.19l-3.866-3.866-1.896 1.625a.75.75 0 11-.976-1.139L6.32 9.88z"}))}},2963:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowShapeUpToLineSlashFill16","data-old-api":"ArrowShapeUpToLineSlashFill16"},e),{className:"ZDI ZDI--ArrowShapeUpToLineSlashFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 2a1 1 0 100 2h10.444a1 1 0 100-2H3zm5.777 2.698a.88.88 0 00-1.11 0L5.919 6.119l5.849 3.377h.888c.677 0 .98-.852.454-1.28L8.776 4.699zm2.091 5.434l-5.78-3.338-.002.001L4 6.168A1 1 0 003 7.9l.424.245-.088.072c-.526.427-.223 1.279.454 1.279h1.787v3.924c0 .398.322.72.72.72h3.851a.72.72 0 00.72-.72v-.977l1.625.938a1 1 0 101-1.732l-2.625-1.515v-.002z"}))}},2964:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowShapeUpToLineFill16","data-old-api":"ArrowShapeUpToLineFill16"},e),{className:"ZDI ZDI--ArrowShapeUpToLineFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M2.778 1.93a1 1 0 000 2h10.444a1 1 0 100-2H2.778zm5.777 2.697a.88.88 0 00-1.11 0l-4.33 3.52c-.527.427-.225 1.278.453 1.278h1.787v3.925c0 .397.322.72.72.72h3.851a.72.72 0 00.72-.72V9.425h1.786c.678 0 .98-.851.454-1.279l-4.33-3.519z"}))}},2965:function(e,t,n){"use strict";var r,o=n(30),c=n.n(o),i=n(447),a=n.n(i),u=n(1),l=n(8),s=["className","duration","count","fill","childWidth","gap"],d=Object(l.h)(r||(r=a()(["\n0%, 100% {transform: translateY(-100%);}\n50% {transform: translateY(100%);}\n"])));t.a=function(e){var t=e.className,n=e.duration,r=void 0===n?.8:n,o=e.count,i=void 0===o?4:o,a=e.fill,l=e.childWidth,f=void 0===l?6:l,h=e.gap,p=void 0===h?12:h,m=c()(e,s),b=(f+p)*i-p;return Object(u.b)("div",Object.assign(Object.assign({className:"BounceLoading ".concat(t||""),css:{position:"relative"},style:{width:b,height:3*f}},m),{},{children:Array(i).fill(0).map((function(e,t){return Object(u.b)("span",{className:"BounceLoading-child",css:function(e){return{position:"absolute",backgroundColor:e.colors.GBL01A,borderRadius:"50%",transformOrigin:"center",animationIterationCount:"infinite",animationName:d,animationTimingFunction:"ease-in-out",animationFillMode:"both"}},style:{top:f,left:(f+p)*t,width:f,height:f,backgroundColor:a,animationDuration:"".concat(r,"s"),animationDelay:"".concat(-r/i/2*t,"s")}},"circle-".concat(t))}))}),void 0)}},2966:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n.n(r),c=n(12),i=Object.assign;function a(e){return o.a.createElement(c.a,i(i({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"QuestionCircleFill16","data-old-api":"QuestionCircleFill16"},e),{className:"ZDI ZDI--QuestionCircleFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M8 15A7 7 0 108 1a7 7 0 000 14zm-.91-8.94c-.13.232-.14.5-.14.574a.65.65 0 01-1.3 0c0-.132.007-.68.31-1.214.333-.59.977-1.07 2.04-1.07 1.095 0 1.8.564 2.13 1.29.3.665.28 1.456.02 2.001-.153.32-.39.533-.6.683-.15.106-.326.207-.462.284l-.11.063c-.333.196-.333.258-.333.326V9a.65.65 0 01-1.3 0c0-.844.616-1.24.975-1.45.067-.04.126-.073.18-.104a3.3 3.3 0 00.295-.18.524.524 0 00.182-.186c.087-.18.12-.57-.032-.904-.123-.272-.373-.526-.945-.526-.604 0-.81.235-.91.41zM8.8 11.1a.8.8 0 11-1.6 0 .8.8 0 011.6 0z",fillRule:"evenodd",clipRule:"evenodd"}))}},927:function(e,t,n){"use strict";var r=n(1),o=n(0),c=n.n(o),i=n(59),a=n(667),u=n(1011),l=n(875),s=n(869),d={normal:{icons:Object.freeze({__proto__:null,ContentError:function(){return n.e(50).then(n.bind(null,1380))},ContentErrorDark:function(){return n.e(51).then(n.bind(null,1381))},Default:function(){return n.e(52).then(n.bind(null,1382))},DefaultDark:function(){return n.e(53).then(n.bind(null,1383))},LoadingError:function(){return n.e(54).then(n.bind(null,1384))},LoadingErrorDark:function(){return n.e(55).then(n.bind(null,1385))},NoBalance:function(){return n.e(56).then(n.bind(null,1386))},NoBalanceDark:function(){return n.e(57).then(n.bind(null,1387))},NoCollection:function(){return n.e(58).then(n.bind(null,1388))},NoCollectionDark:function(){return n.e(59).then(n.bind(null,1389))},NoNetwork:function(){return n.e(60).then(n.bind(null,1390))},NoNetworkDark:function(){return n.e(61).then(n.bind(null,1391))},NoWorks:function(){return n.e(62).then(n.bind(null,1392))},NoWorksDark:function(){return n.e(63).then(n.bind(null,1393))}}),size:"160px"},compact:{icons:Object.freeze({__proto__:null,ContentError:function(){return n.e(36).then(n.bind(null,1394))},ContentErrorDark:function(){return n.e(37).then(n.bind(null,1395))},Default:function(){return n.e(38).then(n.bind(null,1396))},DefaultDark:function(){return n.e(39).then(n.bind(null,1397))},LoadingError:function(){return n.e(40).then(n.bind(null,1398))},LoadingErrorDark:function(){return n.e(41).then(n.bind(null,1399))},NoBalance:function(){return n.e(42).then(n.bind(null,1400))},NoBalanceDark:function(){return n.e(43).then(n.bind(null,1401))},NoCollection:function(){return n.e(44).then(n.bind(null,1402))},NoCollectionDark:function(){return n.e(45).then(n.bind(null,1403))},NoNetwork:function(){return n.e(46).then(n.bind(null,1404))},NoNetworkDark:function(){return n.e(47).then(n.bind(null,1405))},NoWorks:function(){return n.e(48).then(n.bind(null,1406))},NoWorksDark:function(){return n.e(49).then(n.bind(null,1407))}}),size:"80px"}},f=function(e){var t=e.name,n=e.preset,o=e.className,c=d[n],a=Object(s.a)(c.icons[t]);return Object(r.b)(i.Box,{size:c.size,className:o,children:Boolean(a)&&a&&Object(r.b)(a,{},void 0)},void 0)},h=function(){return Object(r.b)("div",{css:{":first-of-type":{flex:4},":last-of-type":{flex:6}}},void 0)},p=c.a.memo((function(e){var t=e.className,n=e.image,c=e.title,s=e.content,d=e.buttonText,p=e.buttonOnClick,m=e.footer,b=void 0===m?null:m,v=e.preset,g=void 0===v?"normal":v,j="compact"===g,w=Object(a.a)().isDarkMode,O=Object(o.useMemo)((function(){return n&&n.replace(/\b\w/g,(function(e){return e.toUpperCase()}))+(w?"Dark":"")}),[n,w]);return Object(r.c)(i.Flex,{flexDirection:"column",alignItems:"center",justifyContent:"center",mx:"32px",height:"100%",className:t,children:[Boolean(O)&&Object(r.b)(h,{},void 0),Object(r.c)(i.Flex,{flexDirection:"column",alignItems:"center",css:{"&>*:last-of-type":{marginBottom:0}},children:[Boolean(O)&&O&&Object(r.b)(f,{name:O,preset:g,css:{marginBottom:j?0:"10px"}},"".concat(O,"-").concat(g)),Boolean(c)&&Object(r.b)(i.Text,{mb:"4px",fontSize:j?"14px":"15px",fontWeight:"500",color:"GBK02A",sx:Object(u.a)(1),children:c},void 0),Object(r.b)(i.Text,{mb:j?"12px":"24px",fontSize:j?"13px":c?"14px":"17px",textAlign:"center",color:"GBK06A",sx:Object.assign({whiteSpace:"pre-line"},Object(u.a)(2)),children:s},void 0),Boolean(d)&&Object(r.b)(i.Box,{mb:"16px",children:Object(r.b)(l.a,{css:function(e){return{padding:"0 20px",fontSize:"13px",fontWeight:500,color:e.colors.GBL01A,borderRadius:"6px",border:"solid 0.5px ".concat(e.colorMod(e.colors.GBK06A).alpha(.08)),backgroundColor:e.colorMod(e.colors.GBK06A).alpha(.08)}},onClick:p,children:d},void 0)},void 0),b]},void 0),Boolean(O)&&Object(r.b)(h,{},void 0)]},void 0)})),m={ET1:p,ET1A:p,ET2:p,ET2A:p,EI1:p,EI1A:p,EI2:p,EI2A:p};t.a=m},962:function(e,t,n){"use strict";var r=n(23),o=n.n(r),c=n(27),i=n.n(c),a=n(26),u=n.n(a),l=n(28),s=n.n(l),d=n(17),f=n.n(d),h=n(3),p=n.n(h),m=n(0),b=n.n(m),v=n(13),g=n.n(v),j=n(994),w=n(143),O=n(94),y=n.n(O),x=n(175),k=n(8);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var S={top:10,left:20},E={top:0,left:0};var A=function(e){u()(n,e);var t=z(n);function n(){var e;o()(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).scrollerRef=b.a.createRef(),e.state={transEnded:!1,rect:null,translate:null,scale:null},e.getBoundingClientRect=function(){var t=e.props,n=t.img,r=t.data,o=n.getBoundingClientRect(),c=o.left,i=o.top,a=o.width,u=o.height,l=r.width,s=r.height,d={left:c,top:i,width:a,height:u},f=1;return l>s?(d.height=u,f=u/s,d.width=l*f,d.left=c+(a-d.width)/2,d.top=i+(u-d.height)/2):l<s&&(d.width=a,f=a/l,d.height=s*f,d.left=c+(a-d.width)/2,d.top=i+(u-d.height)/2),d},e.handleClick=function(t){t.stopPropagation(),e.setState({translate:null,scale:null})},e.handleTransitionEnd=function(){var t=e.state,n=t.translate,r=t.scale,o=e.props.onClose;n&&r?(e.setState({transEnded:!0}),e.scrollerRef.current.style.overflow="auto"):o()},e}return i()(n,[{key:"originalSrc",get:function(){return this.props.img.dataset.original}},{key:"currentSrc",get:function(){var e=this.props.img;return e.currentSrc||e.src}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.img,n=e.isOriginalUrl;this.originalSrc!==this.currentSrc&&((new Image).src=this.originalSrc);this.setState({rect:!1===n?this.getBoundingClientRect():t.getBoundingClientRect()})}},{key:"componentDidMount",value:function(){var e=this;Object(j.disableBodyScroll)(this.scrollerRef.current);var t=this.props.img;setTimeout((function(){return e.setState(Object.assign({},e.computeTransition(e.state.rect,{width:t.dataset.rawwidth||t.naturalWidth})))}))}},{key:"componentWillUnmount",value:function(){Object(j.enableBodyScroll)(this.scrollerRef.current)}},{key:"computeTransition",value:function(e,t){var n,r=this.props,o=r.transitionType,c=r.data,i=y()(navigator.userAgent).Mobile?E:S,a=i.top,u=i.left,l=window,s={left:0,top:0,width:l.innerWidth,height:l.innerHeight},d=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}(s),f={width:s.width-2*u,height:s.height-2*a},h={},p={};return 1===o?(h.width=f.width>c.width?c.width:f.width,n=h.width/c.width,h.height=c.height*n,p={x:(f.width-h.width)/2+u,y:h.height<f.height?(f.height-h.height)/2+a:S.top}):(h.width=f.width>t.width?t.width:f.width,n=h.width/e.width,h.height=e.height*n,p={x:d.x-e.width/2,y:(h.height<f.height?d.y:S.top+h.height/2)-e.height/2}),{translate:p,scale:n}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.img,o=n.isOriginalUrl,c=n.data,i=n.transitionType,a=n.className,u=this.state,l=u.translate,s=u.scale,d=u.rect,f=u.transEnded,h=l&&s,p=1,m="";if(1===i){var b=(y()(navigator.userAgent).Mobile?E:S).left;e=Math.min(window.innerWidth-2*b,c.width);var v=d.width/e;m=h?"translate(".concat(l.x,"px, ").concat(l.y,"px) scale(1) "):"translate(".concat(d.left,"px, ").concat(d.top,"px) scale(").concat(v,") "),p=h?1:0}else m=h?"translate(".concat(l.x,"px ,").concat(l.y,"px) scale(").concat(s,") "):"translate(".concat(d.left,"px,").concat(d.top,"px)");return Object(k.g)(x.a,null,Object(k.g)("div",{className:g()("ImageView",a,{"is-active":h}),style:{paddingBottom:S.top},onClick:this.handleClick},Object(k.g)("div",{className:"ImageView-inner",ref:this.scrollerRef},Object(k.g)("img",{ref:function(e){t.imgEl=e},src:!1===o?Object(w.imgUrl)(r.dataset.original,"r"):f&&this.originalSrc||this.currentSrc,className:g()("ImageView-img",{"ImageView-transformOrigin":1===i}),style:{width:e||d.width,transform:m,opacity:p},onTransitionEnd:this.handleTransitionEnd,alt:"preview"}))))}}]),n}(m.Component);A.propTypes={img:p.a.object.isRequired,onClose:p.a.func.isRequired};t.a=A},994:function(e,t,n){var r,o,c;o=[t],void 0===(c="function"==typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}function o(e){return u.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))}function c(e){var t=e||window.event;return!!o(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function i(){setTimeout((function(){void 0!==f&&(document.body.style.paddingRight=f,f=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)}))}var a="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),u=[],l=!1,s=-1,d=void 0,f=void 0;e.disableBodyScroll=function(e,r){if(a){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!u.some((function(t){return t.targetElement===e}))){var i={targetElement:e,options:r||{}};u=[].concat(t(u),[i]),e.ontouchstart=function(e){1===e.targetTouches.length&&(s=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,i,a;1===t.targetTouches.length&&(r=e,a=(n=t).targetTouches[0].clientY-s,o(n.target)||(r&&0===r.scrollTop&&0<a||(i=r)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&a<0?c(n):n.stopPropagation()))},l||(document.addEventListener("touchmove",c,n?{passive:!1}:void 0),l=!0)}}else{p=r,setTimeout((function(){if(void 0===f){var e=!!p&&!0===p.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(f=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}));var h={targetElement:e,options:r||{}};u=[].concat(t(u),[h])}var p},e.clearAllBodyScrollLocks=function(){a?(u.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),l&&(document.removeEventListener("touchmove",c,n?{passive:!1}:void 0),l=!1),u=[],s=-1):(i(),u=[])},e.enableBodyScroll=function(e){if(a){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,u=u.filter((function(t){return t.targetElement!==e})),l&&0===u.length&&(document.removeEventListener("touchmove",c,n?{passive:!1}:void 0),l=!1)}else(u=u.filter((function(t){return t.targetElement!==e}))).length||i()}})?r.apply(t,o):r)||(e.exports=c)}}]);
//# sourceMappingURL=main.comments-v3.b0c125426254a2638b44.js.map