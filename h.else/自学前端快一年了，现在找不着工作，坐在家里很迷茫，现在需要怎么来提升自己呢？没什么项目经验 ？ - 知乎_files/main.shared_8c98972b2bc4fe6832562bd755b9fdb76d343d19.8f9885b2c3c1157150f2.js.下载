(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1317:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var o=n(30),r=n.n(o),i=n(1),a=n(0),c=n(143),s=n(135),u=n.n(s),l=n(13),d=n.n(l),b=n(59),f=["className","url","size","round"],m=u()(c.findImageSpec),h=function(e,t){return Object(c.imgUrl)(e,m(t,"square"))},p="https://pic1.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f.jpeg",g=function(e){var t=e.className,n=e.url,o=void 0===n?"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff.jpeg":n,c=e.size,s=void 0===c?24:c,u=e.round,l=r()(e,f),m=Object(a.useMemo)((function(){return u?"50%":s>=60?"4px":s>=40?"3px":"2px"}),[u,s]);return Object(i.b)(b.Image,Object.assign({css:{borderRadius:m},bg:"GBK99A",className:d()("Avatar",t),size:s,src:h(o,s),srcSet:"".concat(h(o,2*s)," 2x")},l))}},1360:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return X})),n.d(t,"d",(function(){return Z}));var o=n(0);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function r(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((o=o.apply(e,t||[])).next())}))}function i(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a,c=function(){},s=c(),u=Object,l=function(e){return e===s},d=function(e){return"function"==typeof e},b=function(e,t){return u.assign({},e,t)},f=function(){return"undefined"!=typeof window},m=new WeakMap,h=0,p=function e(t){var n,o,r=typeof t,i=t&&t.constructor,a=i==Date;if(u(t)!==t||a||i==RegExp)n=a?t.toJSON():"symbol"==r?t.toString():"string"==r?JSON.stringify(t):""+t;else{if(n=m.get(t))return n;if(n=++h+"~",m.set(t,n),i==Array){for(n="@",o=0;o<t.length;o++)n+=e(t[o])+",";m.set(t,n)}if(i==u){n="#";for(var c=u.keys(t).sort();!l(o=c.pop());)l(t[o])||(n+=o+":"+e(t[o])+",");m.set(t,n)}}return n},g=!0,v=f(),O="undefined"!=typeof document,j=v&&window.addEventListener?window.addEventListener.bind(window):c,x=O?document.addEventListener.bind(document):c,y=v&&window.removeEventListener?window.removeEventListener.bind(window):c,C=O?document.removeEventListener.bind(document):c,w={isOnline:function(){return g},isVisible:function(){var e=O&&document.visibilityState;return l(e)||"hidden"!==e}},I={initFocus:function(e){return x("visibilitychange",e),j("focus",e),function(){C("visibilitychange",e),y("focus",e)}},initReconnect:function(e){var t=function(){g=!0,e()},n=function(){g=!1};return j("online",t),j("offline",n),function(){y("online",t),y("offline",n)}}},T=!f()||"Deno"in window,k=function(e){return f()&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1)},S=T?o.useEffect:o.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,z=!T&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),B=function(e){if(d(e))try{e=e()}catch(t){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?p(e):"",t,e?"$swr$"+e:""]},L=new WeakMap,E=function(e,t,n,o,r,i,a){void 0===a&&(a=!0);var c=L.get(e),s=c[0],u=c[1],l=c[3],d=s[t],b=u[t];if(a&&b)for(var f=0;f<b.length;++f)b[f](n,o,r);return i&&(delete l[t],d&&d[0])?d[0](2).then((function(){return e.get(t)})):e.get(t)},N=0,R=function(){return++N},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(void 0,void 0,void 0,(function(){var t,n,o,r,a,c,u,f,m,h,p,g,v,O,j,x,y,C,w,I,T;return i(this,(function(i){switch(i.label){case 0:if(t=e[0],n=e[1],o=e[2],r=e[3],c=!!l((a="boolean"==typeof r?{revalidate:r}:r||{}).populateCache)||a.populateCache,u=!1!==a.revalidate,f=!1!==a.rollbackOnError,m=a.optimisticData,h=B(n),p=h[0],g=h[2],!p)return[2];if(v=L.get(t),O=v[2],e.length<3)return[2,E(t,p,t.get(p),s,s,u,!0)];if(j=o,y=R(),O[p]=[y,0],C=!l(m),w=t.get(p),C&&(I=d(m)?m(w):m,t.set(p,I),E(t,p,I)),d(j))try{j=j(t.get(p))}catch(e){x=e}return j&&d(j.then)?[4,j.catch((function(e){x=e}))]:[3,2];case 1:if(j=i.sent(),y!==O[p][0]){if(x)throw x;return[2,j]}x&&C&&f&&(c=!0,j=w,t.set(p,w)),i.label=2;case 2:return c&&(x||(d(c)&&(j=c(j,w)),t.set(p,j)),t.set(g,b(t.get(g),{error:x}))),O[p][1]=R(),[4,E(t,p,j,x,s,u,!!c)];case 3:if(T=i.sent(),x)throw x;return[2,c?T:j]}}))}))},H=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},F=function(e,t){if(!L.has(e)){var n=b(I,t),o={},r=D.bind(s,e),i=c;if(L.set(e,[o,{},{},{},r]),!T){var a=n.initFocus(setTimeout.bind(s,H.bind(s,o,0))),u=n.initReconnect(setTimeout.bind(s,H.bind(s,o,1)));i=function(){a&&a(),u&&u(),L.delete(e)}}return[e,r,i]}return[e,L.get(e)[4]]},M=F(new Map),P=M[0],G=M[1],_=b({onLoadingSlow:c,onSuccess:c,onError:c,onErrorRetry:function(e,t,n,o,r){var i=n.errorRetryCount,a=r.retryCount,c=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!l(i)&&a>i||setTimeout(o,c,r)},onDiscarded:c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:z?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:z?5e3:3e3,compare:function(e,t){return p(e)==p(t)},isPaused:function(){return!1},cache:P,mutate:G,fallback:{}},w),K=function(e,t){var n=b(e,t);if(t){var o=e.use,r=e.fallback,i=t.use,a=t.fallback;o&&i&&(n.use=o.concat(i)),r&&a&&(n.fallback=b(r,a))}return n},U=Object(o.createContext)({}),V=function(e){return d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},Z=function(){return b(_,Object(o.useContext)(U))},q=function(e,t,n){var o=t[e]||(t[e]=[]);return o.push(n),function(){var e=o.indexOf(n);e>=0&&(o[e]=o[o.length-1],o.pop())}},W={dedupe:!0},J=u.defineProperty((function(e){var t=e.value,n=K(Object(o.useContext)(U),t),r=t&&t.provider,i=Object(o.useState)((function(){return r?F(r(n.cache||P),t):s}))[0];return i&&(n.cache=i[0],n.mutate=i[1]),S((function(){return i?i[2]:s}),[]),Object(o.createElement)(U.Provider,b(e,{value:n}))}),"default",{value:_}),X=function(e){return B(e)[0]},Y=(a=function(e,t,n){var a=n.cache,c=n.compare,u=n.fallbackData,f=n.suspense,m=n.revalidateOnMount,h=n.refreshInterval,p=n.refreshWhenHidden,g=n.refreshWhenOffline,v=L.get(a),O=v[0],j=v[1],x=v[2],y=v[3],C=B(e),w=C[0],I=C[1],A=C[2],z=Object(o.useRef)(!1),N=Object(o.useRef)(!1),H=Object(o.useRef)(w),F=Object(o.useRef)(t),M=Object(o.useRef)(n),P=function(){return M.current},G=function(){return P().isVisible()&&P().isOnline()},_=function(e){return a.set(A,b(a.get(A),e))},K=a.get(w),U=l(u)?n.fallback[w]:u,V=l(K)?U:K,Z=a.get(A)||{},J=Z.error,X=!z.current,Y=function(){return X&&!l(m)?m:!P().isPaused()&&(f?!l(V)&&n.revalidateIfStale:l(V)||n.revalidateIfStale)},$=!(!w||!t)&&(!!Z.isValidating||X&&Y()),Q=function(e,t){var n=Object(o.useState)({})[1],r=Object(o.useRef)(e),i=Object(o.useRef)({data:!1,error:!1,isValidating:!1}),a=Object(o.useCallback)((function(e){var o=!1,a=r.current;for(var c in e){var s=c;a[s]!==e[s]&&(a[s]=e[s],i.current[s]&&(o=!0))}o&&!t.current&&n({})}),[]);return S((function(){r.current=e})),[r,i.current,a]}({data:V,error:J,isValidating:$},N),ee=Q[0],te=Q[1],ne=Q[2],oe=Object(o.useCallback)((function(e){return r(void 0,void 0,void 0,(function(){var t,o,r,u,b,f,m,h,p,g,v,O,j;return i(this,(function(i){switch(i.label){case 0:if(t=F.current,!w||!t||N.current||P().isPaused())return[2,!1];u=!0,b=e||{},f=!y[w]||!b.dedupe,m=function(){return!N.current&&w===H.current&&z.current},h=function(){var e=y[w];e&&e[1]===r&&delete y[w]},p={isValidating:!1},g=function(){_({isValidating:!1}),m()&&ne(p)},_({isValidating:!0}),ne({isValidating:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),f&&(E(a,w,ee.current.data,ee.current.error,!0),n.loadingTimeout&&!a.get(w)&&setTimeout((function(){u&&m()&&P().onLoadingSlow(w,n)}),n.loadingTimeout),y[w]=[t.apply(void 0,I),R()]),j=y[w],o=j[0],r=j[1],[4,o];case 2:return o=i.sent(),f&&setTimeout(h,n.dedupingInterval),y[w]&&y[w][1]===r?(_({error:s}),p.error=s,v=x[w],!l(v)&&(r<=v[0]||r<=v[1]||0===v[1])?(g(),f&&m()&&P().onDiscarded(w),[2,!1]):(c(ee.current.data,o)?p.data=ee.current.data:p.data=o,c(a.get(w),o)||a.set(w,o),f&&m()&&P().onSuccess(o,w,n),[3,4])):(f&&m()&&P().onDiscarded(w),[2,!1]);case 3:return O=i.sent(),h(),P().isPaused()||(_({error:O}),p.error=O,f&&m()&&(P().onError(O,w,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||d(n.shouldRetryOnError)&&n.shouldRetryOnError(O))&&G()&&P().onErrorRetry(O,w,n,oe,{retryCount:(b.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,g(),m()&&f&&E(a,w,p.data,p.error,!1),[2,!0]}}))}))}),[w]),re=Object(o.useCallback)(D.bind(s,a,(function(){return H.current})),[]);if(S((function(){F.current=t,M.current=n})),S((function(){if(w){var e=w!==H.current,t=oe.bind(s,W),n=0,o=q(w,j,(function(e,t,n){ne(b({error:t,isValidating:n},c(ee.current.data,e)?s:{data:e}))})),r=q(w,O,(function(e){if(0==e){var o=Date.now();P().revalidateOnFocus&&o>n&&G()&&(n=o+P().focusThrottleInterval,t())}else if(1==e)P().revalidateOnReconnect&&G()&&t();else if(2==e)return oe()}));return N.current=!1,H.current=w,z.current=!0,e&&ne({data:V,error:J,isValidating:$}),Y()&&(l(V)||T?t():k(t)),function(){N.current=!0,o(),r()}}}),[w,oe]),S((function(){var e;function t(){var t=d(h)?h(V):h;t&&-1!==e&&(e=setTimeout(n,t))}function n(){ee.current.error||!p&&!P().isVisible()||!g&&!P().isOnline()?t():oe(W).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[h,p,g,oe]),Object(o.useDebugValue)(V),f&&l(V)&&w)throw F.current=t,M.current=n,N.current=!1,l(J)?oe(W):J;return{mutate:re,get data(){return te.data=!0,V},get error(){return te.error=!0,J},get isValidating(){return te.isValidating=!0,$}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Z(),o=V(e),r=o[0],i=o[1],c=o[2],s=K(n,c),u=a,l=s.use;if(l)for(var d=l.length;d-- >0;)u=l[d](u);return u(r,i||s.fetcher,s)})},1548:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te})),n.d(t,"b",(function(){return $e})),n.d(t,"c",(function(){return ne})),n.d(t,"d",(function(){return ke}));var o=n(24),r=n.n(o),i=n(40),a=n.n(i),c=n(123),s=n.n(c),u=n(30),l=n.n(u),d=n(34),b=n.n(d),f=n(0),m=n(3),h=n.n(m),p=n(72),g=n.n(p),v=n(105),O=n(868),j=n(866),x=n(48),y=n(59),C=n(153),w=n(51),I=n(1202),T=n(667),k=n(1011),S=n(2396),A=n(424),z=n(5),B=n(492),L=n(170),E=n(64),N=n.n(E),R=n(126),D=n(436),H=n(435),F=n(1),M=n(56),P=n(159),G=n.n(P),_=n(476),K=n(260),U=n(1734),V=n(2385),Z=n(1220),q=n(1123),W=n(917),J=n(3021),X=n(448),Y=n(156),$=["user","className","badgeSize","isSecondary","isHybrid"],Q=["query","children","innerStyle","innerRef","onClick"],ee=["name","className","defaultClassName","size","center"];function te(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var ne=N()((function(){return Object(R.loadScript)("https://unpkg.zhimg.com/@cfe/emoticon@1.2.4/lib/emoticon.js").then((function(){return window.zh_emoticon?window.zh_emoticon.reduce((function(e,t){var n;return[].concat(te(b.a,e),te(b.a,null!==(n=t.stickers)&&void 0!==n?n:[]))}),[]):[]}))})),oe=function(e){var t=e.medalAvatarFrame,n=Object(L.b)();return Object(B.versionControl)(n,{IOS:"8.11",ANDROID:"8.11"})&&t?Object(F.b)("div",{css:{position:"absolute",width:"44px",height:"44px",pointerEvents:"none",top:"-7px",left:"-7px"},children:Object(F.b)(y.Image,{alt:"头像挂件",src:t})}):null},re=function(e){var t=e.user,n=e.className,o=e.badgeSize,r=void 0===o?14:o,i=e.isSecondary,a=e.isHybrid,c=l()(e,$),s=t.avatarUrl,u=t.badge,d=t.badgeV2,b=t.isOrg,f=t.id,m=t.exposedMedal,h=Object(I.a)(),p=a?30:24,g="0"===f||""===f,v=Boolean(a&&!i&&(null==m?void 0:m.medalAvatarFrame)&&"vip"!==(null==m?void 0:m.avatarFrameType)),O=Object(F.c)(F.a,{children:[Object(F.b)(y.Image,{size:p,src:s,sx:{borderRadius:a?"50%":"2px",textIndent:"-9999px",overflow:"hidden",backgroundColor:"GBK10A"},className:n}),v&&Object(F.b)(oe,{medalAvatarFrame:m.medalAvatarFrame}),(null!=d?d:u)&&a&&Object(F.b)(D.c,{size:r,badge:null!=d?d:u,css:Object(D.f)(2*r,r)})]});return g?Object(F.b)(y.Box,Object.assign(Object.assign({},c),{},{size:p,children:O})):Object(F.b)(y.Box,{size:p,css:Object.assign({position:"relative"},h),className:n,children:Object(F.b)(H.b,{href:"https://www.zhihu.com/".concat(b?"org":"people","/").concat(f),zaType:"Image",children:O})})},ie=!1,ae=!1,ce=function(){var e=s()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=3;break}return e.next=3,ae=!0,x.a.ready().catch((function(){ie=!0}));case 3:if(!ie){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,x.a.dispatch("account/showLoginDialog",{next:t}).catch((function(e){return e}));case 7:if("object"!=typeof(n=e.sent)||"ERR_AUTH_ALREADYLOGIN"!==n.name&&"ERR_ACOUNT_NOTGUEST"!==n.name){e.next=11;break}return ie=!0,e.abrupt("return",ie);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(f.createContext)({data:null,dispatch:g.a,authRequired:g.a}),ue="LOAD_COMMENT_PREVIEW",le="TOGGLE_LIKE",de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;if(n===ue)return Object(z.camelizeKeys)(o);if(n===le){var r=o.id,i=o.nextAction,a=o.rootCommentId;return Object.assign(Object.assign({},e),{},{data:e.data.map((function(e){return a?a!==e.id?e:Object.assign(Object.assign({},e),{},{childComments:e.childComments.map((function(e){return e.id!==r?e:Object.assign(Object.assign({},e),{},{likeCount:e.likeCount+("like"===i?1:-1),liked:"like"===i})}))}):e.id!==r?e:Object.assign(Object.assign({},e),{},{likeCount:e.likeCount+("like"===i?1:-1),liked:"like"===i})}))})}return e},be=function(e){var t=e.children,n=e.resourceType,o=e.resourceId,i=e.redirectUrl,a=e.commentUnfoldable,c=e.defaultUnfoldContent,s=e.viewAllButtonAutoShow,u=e.openSecondaryCommentPage,l=e.openEditorOnClick,d=e.onlyOpenEditor,b=e.showInteractions,m=void 0===b||b,h=e.showSecondaryComment,p=e.showSecondaryCommentButton,O=e.listHeight,j=e.maskTransparent,x=e.onAllCommentsShow,y=void 0===x?g.a:x,C=e.openInApp,w=void 0===C?g.a:C,I=e.showImage,T=void 0!==I&&I,k=Object(f.useReducer)(de,null),S=te(r.a,k,2),A=S[0],z=S[1],B=Object(_.b)(),L=Object(v.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://www.zhihu.com";return function(t){return function(n){var o=n.target;return ce(e).then((function(e){if(e)return t(o)}))}}}(i)),E=Object(v.a)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return B.apply(void 0,["https://www.zhihu.com".concat(e)].concat(n))}));return Object(F.b)(se.Provider,{value:{data:A,dispatch:z,authRequired:L,fetcher:E,resourceType:n,resourceId:o,commentUnfoldable:a,defaultUnfoldContent:c,showImage:T,showInteractions:m,showSecondaryComment:h,showSecondaryCommentButton:p,viewAllButtonAutoShow:s,openSecondaryCommentPage:u,onlyOpenEditor:d,openEditorOnClick:l,onAllCommentsShow:y,listHeight:O,maskTransparent:j,openInApp:w},children:t})};function fe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=null;return function(){var r=Date.now();if(!n&&!o||r-o<t){o||(o=r);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e.apply(this,a)}o=r}}var me=Object(f.forwardRef)((function(e,t){var n=e.query,o=void 0===n?{}:n,i=e.children,a=e.innerStyle,c=e.innerRef,s=e.onClick,u=l()(e,Q),d=Object(f.useContext)(se),b=d.resourceType,m=d.resourceId,h=d.onAllCommentsShow,p=d.listHeight,g=d.maskTransparent,O=d.openInApp,j=d.openSecondaryCommentPage,x=d.onlyOpenEditor,y=o.rootCommentId,C=o.anchorCommentId,w=o.openEditor,I=o.replyAuthorName,T=Object(L.b)(),k=Object(f.useMemo)((function(){var e=w&&x?"zhihu://comment/editor":"https://www.zhihu.com/comment/list",t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),y&&{isChild:!0}),!j&&{rootCommentId:void 0,isChild:void 0}),{},{anchorCommentId:null!=y?y:C},j&&y&&{anchorCommentId:void 0}),w&&{openEditor:!0,replyCommentId:C,replyRootCommentId:y,replyAuthorName:I}),p&&{listHeight:p,maskTransparent:!0}),void 0!==g&&{maskTransparent:g}),n=m,r=b;return o.resourceType&&o.resourceType!==b&&(r=o.resourceType,n=o.resourceId),[Object.assign(Object.assign({},t),{},{resourceType:r,resourceId:n}),"".concat(e,"/").concat(r,"/").concat(n,"?").concat(Object(M.stringify)(Object(z.decamelizeKeys)(G()(t,Boolean))))]}),[o,y,j,C,w,I,p,g,m,b,x]),S=te(r.a,k,2),A=S[0],B=S[1],E=Object(v.a)((function(e){if(!T.ZhihuHybrid)return e.preventDefault(),void O();null==s||s(e),e.defaultPrevented||null==h||h(e,A)}));return Object(F.b)(H.b,Object.assign(Object.assign({as:"div",ref:t,href:B,onClick:E},u),{},{children:Object(F.b)("div",{role:"link",tabIndex:0,ref:c,onClick:fe((function(e){e.stopPropagation()}),1e3),css:function(e){return Object.assign({":focus":{outline:"none"},":focus-visible":{outline:"".concat(e.colorMod(e.colors.GBL01A).alpha(.3)," auto 5px")}},a)},children:i})}))})),he={avatarUrl:"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_s.jpeg",badge:null,id:"0"},pe=["1","0.7","0.4"],ge=["[谢邀]","[赞同]"],ve=function(e){var t=e.inputPlaceholder,n=e.commentStatus,o=e.emoticons,i=e.currentUserId,a=e.onInputShowTips,c=Object(L.b)(),s=Object(T.a)().colors,u=s.GBK10A,l=s.GBK06A,d=(null==c?void 0:c.ZhihuHybrid)||(null==c?void 0:c.Zhihu),b=Object(f.useState)([]),m=te(r.a,b,2),h=m[0],p=m[1],g=Object(f.useState)(he),O=te(r.a,g,2),j=O[0],C=O[1],w=n.type,I=n.text,k=n.induceText,S=4===w,A=5===w,E=S||A,N=E?I:t;Object(f.useEffect)((function(){o.length>0&&x.a.dispatch("base/getFrequentlyUsedEmoticon",{count:3}).then((function(e){var t=null==e?void 0:e.data;return t&&0!==t.length||(t=ge),p(t.map((function(e){return function(e,t){return t.find((function(t){return t.placeholder===e}))}(e,o)})))}))}),[o]),Object(f.useEffect)((function(){var e=Object(B.versionControl)(c,{IOS:"8.32",ANDROID:"8.32"});i||x.a.dispatch("account/me").then((function(t){if(null!=t&&t.url_token){var n=t.avatar_url,o=t.url_token,r=t.badge_v2,i=t.badge,a=t.exposed_medal,c=void 0===a?{}:a;C({avatarUrl:n,id:o,badgeV2:Object(z.camelizeKeys)(r),badge:Object(z.camelizeKeys)(i),exposedMedal:e?Object(z.camelizeKeys)(c):null})}}))}),[i,c]);var R=Object(v.a)((function(e){E&&e.preventDefault(),S&&Object(x.a)("ui/showToast").dispatch({text:I}),A&&(null==a||a(k||"评论区功能升级中，暂时无法发送评论，可以使用「赞同并推荐」功能参与互动"))}));return Object(F.c)(y.Flex,{css:{width:"100%",alignItems:"center"},children:[Object(F.b)(re,{user:j,isHybrid:d}),Object(F.c)(me,{as:y.Flex,query:{openEditor:!0},css:{flex:1,marginLeft:"10px",padding:"0 4px 0 16px",height:"36px",color:l,backgroundColor:u,borderRadius:"18px",fontSize:"14px"},innerStyle:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},onClick:R,children:[Object(F.b)(y.Text,{css:{lineHeight:"normal"},children:N||"写评论"}),h.length>0&&Object(F.b)(y.Flex,{css:{height:"34px",alignItems:"center",marginRight:"4px"},children:h.filter(Boolean).map((function(e,t){var n=e.static_image_url,o=e.title;return Object(F.b)("img",{alt:"icon",src:n,css:{width:"20px",height:"20px",marginRight:"4px",opacity:pe[t]}},o)}))})]})]})},Oe={hybrid:{username:{fontSize:14,color:"GBK02A"},authorTag:{fontSize:13},content:{lineHeight:"21px"},commentTag:{fontSize:12,height:"auto",lineHeight:"16px",color:"GBK06A",marginTop:"6px"}},web:{username:{fontSize:15,color:"GBK03A"},authorTag:{fontSize:15},content:{lineHeight:"24px"},commentTag:{fontSize:14,height:24,lineHeight:"24px",color:"GBL05A",marginTop:"4px"}}};function je(e){var t=e.name,n=e.isOrg,o=e.id,r=e.className,i=e.uaType,a="0"===o||""===o,c=a?y.Text:H.b,s=Oe[i].username,u=s.fontSize,l=s.color;return Object(F.b)(c,Object.assign(Object.assign({},!a&&{href:"https://www.zhihu.com/".concat(n?"org":"people","/").concat(o),as:y.Text}),{},{color:l,fontSize:u,fontWeight:"bold",lineHeight:"16px",css:[{flex:"0 1 auto"},Object(k.a)(1)],className:r,children:t}))}var xe=function(e){var t,n,o=Object(L.b)(),r=(("undefined"!=typeof window?window.innerWidth:184)-72-4)/3*2+2,i=parseInt(null!==(t=e["data-height"])&&void 0!==t?t:100,10),a=parseInt(null!==(n=e["data-width"])&&void 0!==n?n:100,10),c=e.href,s=Math.min(r,a),u=Math.min(r,i),l=Math.min(Math.max(a/i,.5),2),d=l>1?s:u*l,b=l>1?s/l:u;return Object(F.b)(y.Box,{css:{fontSize:0,width:d,height:b,overflow:"hidden",borderRadius:"6px"},children:Object(F.b)(y.Image,{src:c,width:"100%",height:"100%",css:{objectFit:"cover",objectPosition:l<1?"center top":"unset"},onClick:function(e){e.stopPropagation(),((null==o?void 0:o.ZhihuHybrid)||(null==o?void 0:o.Zhihu))&&Object(x.a)("base/openImage").dispatch({images:[c]})}})})},ye=["comment_gif","comment_img","comment_sticker"],Ce=function(e,t){return e instanceof NodeList?Object(F.b)(F.a,{children:[].map.call(e,(function(e,n){return Object(F.b)(f.Fragment,{children:t(e)},n)}))}):t(e)},we={class:"className"},Ie=function(e,t){function n(e){return t(e,(function(t){return function(e,t){if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;if(e.nodeType===Node.ELEMENT_NODE)return Object(f.createElement)(t||e.tagName.toLowerCase(),e.attributes?Array.from(e.attributes).reduce((function(e,t){return e[we[t.name]||t.name]=t.value,e}),{}):{},e.childNodes.length?Ce(e.childNodes,n):null);return null}(e,t)}))}return Ce(e,n)},Te=function(e,t){var n=t.convertEmoticon,o=t.emoticonList,r=void 0===o?[]:o,i=t.traverseCallback;if("undefined"==typeof DOMParser)return Object(F.b)("div",{dangerouslySetInnerHTML:{__html:e}});n&&(e=function(e,t){return e.replace(/(\[[^[^\]]+\](?!<\/a))/g,(function(e){var n=t.find((function(t){return t.placeholder===e}));return n?"<img src=".concat(n.static_image_url,' class="sticker" alt="').concat(n.placeholder,'" />'):e}))}(e,r));var a=(new DOMParser).parseFromString(e,"text/html");return Ie(a.body.childNodes,i)},ke=function(e){return Te(e,{traverseCallback:function(e,t){return e.nodeType===Node.ELEMENT_NODE?t("A"===e.tagName&&H.b):e.textContent}})},Se=Object(f.memo)((function(e){var t=e.text;return ke(t)})),Ae=function(e){var t=e.tagInfo,n=e.richText,o=e.responseLink,r=e.className,i=Object(K.b)().isDarkMode;if(!t)return null;var a=t.text,c=t.color,s=t.nightColor,u=t.hasBorder,l=t.borderColor,d=t.borderNightColor,b=t.targetLink,m=b&&o,h=Object(f.useContext)(se).openInApp,p=Object(L.b)(),g=Object(v.a)((function(e){m&&!p.ZhihuHybrid&&(e.preventDefault(),h())})),O=m?H.b:"span";return Object(F.c)(O,Object.assign(Object.assign({css:function(e){return Object.assign(Object.assign(Object.assign({},u&&l&&Object(S.a)({border:"1px solid ".concat(i?d:l),borderRadius:"4px"})),m&&{textDecoration:"none"}),{},{height:"14px",fontSize:"10px",lineHeight:"15px",boxSizing:"border-box",marginLeft:"4px",padding:"0 4px","& a":{color:e.colors.GBL01A,textDecoration:"none"}})},className:r,style:{color:i?s:c},onClick:g},Boolean(m)&&{href:b}),{},{children:[n?Object(F.b)(Se,{text:a}):a,Boolean(b)&&Object(F.b)(Z.a,{css:function(e){return{fill:e.colors[c],marginRight:"-2px"}},center:!0,size:12})]}))},ze=function(e){var t=e.vipInfo,n=T.a.isDarkMode,o=t.vipIcon,i=(o=void 0===o?{}:o).url,a=o.nightModeUrl,c=t.isVip,s=Object(O.a)(!1),u=te(r.a,s,2),l=u[0],d=u[1];return!l&&i&&c?Object(F.b)(H.a,{shouldTrackShow:!0,zaType:"Image",zaBlock:"VIP",children:Object(F.b)(y.Flex,{as:"a",href:"https://www.zhihu.com/vip?entry_privileges_type=member_id",css:{marginLeft:"4px"},children:Object(F.b)(y.Image,{src:n?a:i,size:"14px",onError:d.on})})}):null},Be=function(e){var t=e.medalId,n=e.avatarUrl,o=e.userToken,i=e.medalName,a=Object(L.b)(),c=Object(B.versionControl)(a,{IOS:"7.39",ANDROID:"7.39"}),s=Object(O.a)(!1),u=te(r.a,s,2),l=u[0],d=u[1];return c&&!l?Object(F.b)(y.Flex,{as:"button",onClick:function(e){e.preventDefault(),Object(x.a)("base/openURL").dispatch({url:"zhihu://popup_container?"+new URLSearchParams({url:"https://www.zhihu.com/appview/v2/badge_center/detail?userToken=".concat(encodeURIComponent(o),"&badgeId=").concat(encodeURIComponent(t)),min_percent:"0.6",show_header:"false",cancelable:"true",enable_drag:"false",canchangeheight:"false"}).toString()})},css:{padding:0,marginLeft:"6px"},children:Object(F.b)(y.Image,{alt:i,css:{height:"14px",width:"14px"},src:n,onError:d.on})}):null},Le=function(e){var t=e.authorTags,n=void 0===t?[]:t,o=e.className,r=e.user,i=e.uaType,a=e.badgeSize,c=void 0===a?14:a,s=r.name,u=r.vipInfo,l=r.badge,d=r.badgeV2,b=r.isOrg,f=r.id,m=r.exposedMedal,h=void 0===m?null:m,p=r.urlToken,g=h&&h.avatarUrl&&h.medalId&&p;return Object(F.c)(y.Flex,{css:{alignItems:"center",lineHeight:"16px"},className:o,children:[Object(F.b)(je,{name:s,isOrg:b,id:f,uaType:i}),n.map((function(e){return Object(F.b)(Ae,{responseLink:!0,richText:!0,tagInfo:e},e.text)})),(null!=d?d:l)&&"hybrid"!==i&&Object(F.b)(D.c,{size:c,badge:null!=d?d:l,css:{marginLeft:4}}),u&&Object(F.b)(ze,{vipInfo:u}),g&&Object(F.b)(Be,Object.assign({userToken:p},h))]})},Ee=function(e){var t=e.onClick,n=Object(T.a)().colors,o=n.GBK04A,r=n.GBK99A;return Object(F.c)("span",{role:"button",tabIndex:0,css:{position:"absolute",right:0,bottom:0,paddingLeft:18,backgroundImage:"linear-gradient(90deg, ".concat(Object(A.a)(r).alpha(0),", ").concat(r," 25%, ").concat(r,")"),display:"inline-block",color:o},onClick:t,children:["展开",Object(F.b)(q.a,{center:!0,color:o,css:{height:21}})]})},Ne=function(e){var t=e.comment,n=t.content,o=t.collapsed,i=t.isDeleted,a=t.id,c=t.author,s=e.emoticons,u=e.className,l=e.rootCommentId,d=e.unfoldable,b=e.uaType,m=Object(f.useContext)(se),h=m.defaultUnfoldContent,p=void 0!==h&&h,g=m.showImage,O=void 0!==g&&g,j=m.openEditorOnClick,C=!o&&!i,w=Object(f.useRef)(),I=Object(f.useRef)(),T=Object(f.useState)(!1),S=te(r.a,T,2),A=S[0],z=S[1],B=Object(f.useState)(p),L=te(r.a,B,2),E=L[0],N=L[1],R=Object(f.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return Te(e,{convertEmoticon:!0,emoticonList:t,traverseCallback:function(e,t){if(e.nodeType===Node.ELEMENT_NODE){if("P"===e.tagName)return t(f.Fragment);if(e.classList.contains("sticker"))return t();if(ye.some((function(t){return e.classList.contains(t)})))return n?t(xe):e.textContent;if(e.textContent.match("http"))return t("A"===e.tagName&&H.b)}return e.textContent}})}(n,null!=s?s:[],O)}),[n,s,O]),D=Oe[b].content.lineHeight;Object(f.useLayoutEffect)((function(){var e,t;d&&!E&&(null===(e=w.current)||void 0===e?void 0:e.clientHeight)<(null===(t=I.current)||void 0===t?void 0:t.clientHeight)&&z(!0)}),[w,I,z,E,d]);var M=Object(v.a)((function(e){var t,n=e.target;if(ye.some((function(e){return n.classList.contains(e)}))){var o=n.href;o&&(t=o,x.a.dispatch("base/openImage",{images:[t],index:0})),e.preventDefault()}})),P=Object(v.a)((function(e){e.stopPropagation(),N(!0)}));return Object(F.c)(me,{ref:w,innerRef:I,as:y.Box,onClick:M,fontSize:"15px",lineHeight:D,color:C?"GBK03A":"GBK07A",mt:"6px",css:Object.assign(Object.assign(Object.assign({position:"relative",overflowWrap:"break-word"},!E&&Object(k.a)(2)),d&&!E&&{display:"block",overflow:"hidden",maxHeight:42}),{},{"img.sticker":{width:"1.24em",height:"1.24em",marginBottom:"-0.25em"}}),className:u,zaType:"Card",query:Object.assign({rootCommentId:l,anchorCommentId:a},j&&{openEditor:!0,replyAuthorName:c.name}),children:[R,A&&!E&&Object(F.b)(Ee,{onClick:P})]})},Re=function e(t){var n=function(e,t){return Object.keys(t).reduce((function(e,n){var o=e[n];if(delete e[n],o){var r=t[n],i="function"==typeof r?r(e):r;return Object.assign(Object.assign(Object.assign({},e),i),i&&i.style&&{style:Object.assign(Object.assign({},e.style),i.style)})}return e}),Object.assign({},e))}(t,e.mapProps),o=n.name,r=n.className,i=n.defaultClassName,a=n.size,c=n.center,s=l()(n,ee),u=Object(F.b)("svg",Object.assign(Object.assign({className:"".concat(i," ").concat(i,"--").concat(o).concat(r?" ".concat(r):"")},s),a&&{width:a,height:a}));return c?Object(F.c)("span",{style:e.strutStyle,children:["​",u]}):u};Re.defaultProps={defaultClassName:"Icon",fill:"currentColor"},Re.mapProps={text:{size:"1.2em"}},Re.strutStyle={display:"inline-flex",alignItems:"center"};var De=function(e){return Object(F.b)(Re,Object.assign(Object.assign({viewBox:"0 0 24 24"},e),{},{children:Object(F.b)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C16.9706 3 21 7.02944 21 12C21 12.9242 20.7842 14.037 20.3617 15.3551C20.2673 15.6497 20.2603 15.9655 20.3417 16.264L20.4506 16.64C21.073 18.8462 21.1396 20.1542 20.6504 20.5641C20.1634 20.972 18.8358 20.9294 16.6675 20.4363L16.264 20.3417C15.9655 20.2603 15.6497 20.2673 15.3551 20.3617C14.037 20.7842 12.9242 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3ZM12 4.61093C7.9191 4.61093 4.6109 7.91913 4.6109 12C4.6109 16.0809 7.9191 19.3891 12 19.3891C12.7277 19.3891 13.6797 19.2071 14.8633 18.8277C15.4548 18.6381 16.0886 18.6241 16.6417 18.7757C17.687 19.0279 18.5219 19.1739 19.1295 19.2169L19.248 19.2241L19.349 19.228L19.3449 19.1745C19.2933 18.6329 19.1303 17.872 18.846 16.8877L18.7875 16.6878C18.6241 16.0886 18.638 15.4548 18.8276 14.8633C19.2071 13.6797 19.389 12.7277 19.389 12C19.389 7.91913 16.0808 4.61093 12 4.61093Z"})}))};De.defaultProps={name:"CommentLikeNormal"};var He=function(e){return Object(F.b)(Re,Object.assign(Object.assign({viewBox:"0 0 43 41"},e),{},{children:Object(F.b)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.417 35.624L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165a1.734 1.734 0 0 1 3.11 0l4.524 9.166a4.625 4.625 0 0 0 3.482 2.53l10.114 1.47a1.734 1.734 0 0 1 .961 2.957l-7.319 7.134a4.625 4.625 0 0 0-1.33 4.094l1.728 10.073a1.734 1.734 0 0 1-2.516 1.829l-9.047-4.756a4.625 4.625 0 0 0-4.304 0z"})}))};He.defaultProps={name:"Star"};var Fe=function(e){return Object(F.b)(Re,Object.assign(Object.assign({viewBox:"0 0 43 41"},e),{},{children:Object(F.c)("g",{fillRule:"evenodd",children:[Object(F.b)("path",{d:"M19.417 35.624L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165a1.734 1.734 0 0 1 3.11 0l4.524 9.166a4.625 4.625 0 0 0 3.482 2.53l10.114 1.47a1.734 1.734 0 0 1 .961 2.957l-7.319 7.134a4.625 4.625 0 0 0-1.33 4.094l1.728 10.073a1.734 1.734 0 0 1-2.516 1.829l-9.047-4.756a4.625 4.625 0 0 0-4.304 0z",opacity:".2"}),Object(F.b)("path",{d:"M21.5.162v34.931c-.716.01-1.43.188-2.083.53L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165c.29-.59.872-.94 1.486-.965z"})]})}))};Fe.defaultProps={name:"HalfStar"};var Me=te(b.a,Array(5)),Pe=function(e){var t=e.score/2,n=Object(T.a)().colors.GRD10A,o=Object(A.a)(n).alpha(.2);return Object(F.b)(y.Flex,{flexDirection:"row",height:"20px",alignItems:"center",mt:"2px",children:Me.map((function(e,r){var i=function(e,t){return e-t>=0?1:e-t<=-1?0:.5}(t,r+1);return.5===i?Object(F.b)(Fe,{css:{marginRight:"2px"},color:n,size:12},"".concat(r,"-").concat(i)):Object(F.b)(He,{css:{marginRight:"2px"},color:i?n:o,size:12},"".concat(r,"-").concat(i))}))})},Ge=function(e){return Object(F.b)(Re,Object.assign(Object.assign({viewBox:"0 0 24 24"},e),{},{children:Object(F.b)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 4.07782C8.5 2.24411 10.4861 1.09899 12.0731 2.01775C13.7298 2.9769 14.663 4.82463 14.4516 6.72727L14.3379 7.74996H17.9194C20.4493 7.74996 22.2533 10.2038 21.4987 12.6185L19.6761 18.4508C19.1559 20.1155 17.5599 21.197 15.8279 21.0902C13.456 20.9438 9.78636 20.75 7 20.75H4.49936C3.53225 20.75 2.75 19.9658 2.75 19V9.49996C2.75 8.53346 3.5335 7.74996 4.5 7.74996H5.1371C6.55156 7.74996 7.81995 6.87883 8.32771 5.55864C8.4416 5.26254 8.5 4.94801 8.5 4.63076V4.07782ZM11.3215 3.31589C10.7346 2.97608 10 3.39961 10 4.07782V4.63076C10 5.13211 9.90771 5.62918 9.72773 6.09711C8.99716 7.99659 7.17222 9.24996 5.1371 9.24996H4.5C4.36193 9.24996 4.25 9.36189 4.25 9.49996V19C4.25 19.1386 4.36191 19.25 4.49936 19.25H7C9.83637 19.25 13.5459 19.4465 15.9203 19.593C16.9721 19.6579 17.9327 19.0008 18.2444 18.0034L20.067 12.1711C20.5198 10.7222 19.4374 9.24996 17.9194 9.24996H13.5C13.2867 9.24996 13.0834 9.15911 12.9412 9.00015C12.7989 8.84119 12.731 8.62916 12.7546 8.41713L12.9608 6.56162C13.1065 5.25035 12.4633 3.97693 11.3215 3.31589Z"})}))};Ge.defaultProps={name:"CommentLikeNormal"};var _e=function(e){return Object(F.b)(Re,Object.assign(Object.assign({viewBox:"0 0 24 24"},e),{},{children:Object(F.b)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 4.07782C8.5 2.24411 10.4861 1.09899 12.0731 2.01775C13.7298 2.9769 14.663 4.82463 14.4516 6.72727L14.3379 7.74996H17.9194C20.4493 7.74996 22.2533 10.2038 21.4987 12.6185L19.6761 18.4508C19.1559 20.1155 17.5599 21.197 15.8279 21.0902C13.456 20.9438 9.78636 20.75 7 20.75H4.49936C3.53225 20.75 2.75 19.9658 2.75 19V9.49996C2.75 8.53346 3.5335 7.74996 4.5 7.74996H5.1371C6.55156 7.74996 7.81995 6.87883 8.32771 5.55864C8.4416 5.26254 8.5 4.94801 8.5 4.63076V4.07782Z",fill:"#0066FF"})}))};_e.defaultProps={name:"CommentLikeActive"};var Ke=function(e){var t=e.comment,n=e.rootCommentId,o=t.likeCount,r=t.liked,i=Object(L.b)(),c=Object(f.useRef)(!1),u=Object(f.useContext)(se),l=u.dispatch,d=u.fetcher,b=u.authRequired,m=u.openInApp,h=r?_e:Ge,p=Object(J.a)(),g=Object(v.a)(s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){x.a.dispatch("iOS/hapticFeedback")}),300),e.next=3,p.start({scale:1.3,transition:{type:"tween",duration:.2,ease:[0,0,.58,1]}});case 3:return e.next=5,p.start({scale:1,transition:{type:"tween",duration:.3,ease:[.42,0,.2,1.8]}});case 5:case"end":return e.stop()}}),e)})))),O=Object(v.a)(s()(a.a.mark((function e(){var o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ZhihuHybrid){e.next=3;break}return m(),e.abrupt("return");case 3:if(!c.current){e.next=5;break}return e.abrupt("return");case 5:return c.current=!0,"like"===(o=r?"dislike":"like")&&g(),e.prev=8,e.next=11,d("/api/v4/comment_v5/comment/".concat(t.id,"/reaction/").concat(o),{method:"PUT"});case 11:l({type:le,payload:{nextAction:o,id:t.id,rootCommentId:n}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),x.a.dispatch("ui/showToast",{icon:"fail",text:(null===(s=e.t0.payload)||void 0===s||null===(u=s.error)||void 0===u?void 0:u.message)||e.t0.statusMessage});case 17:return e.prev=17,c.current=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[8,14,17,20]])})))),j=i.ZhihuHybrid?"":"赞";return Object(F.c)(F.a,{children:[Object(F.b)(w.a,{zaType:"Button",zaAction:r?"UnUpvote":"Upvote",as:X.a.button,css:function(){return{marginLeft:"16px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,color:"inherit",font:"inherit",background:"none",outline:"none",border:"none",appearance:"none"}},initial:{scale:1},animate:p,onClick:b(O),children:i.ZhihuHybrid?Object(F.b)(h,{size:20,css:function(e){return{fill:e.colors.GBK06A}}}):Object(F.b)(U.a,{size:16,css:function(e){return{fill:e.colors.GBL05A}}})}),Object(F.b)("span",{css:function(e){return{marginLeft:"4px",color:e.colors[r?"GBL01A":"GBK06A"]}},children:o>0?Object(C.cnNiceNumber)(o):j})]})},Ue=function(e){var t=e.comment,n=e.editStatus,o=e.rootCommentId,r=e.className,i=e.uaType,a=e.isSecondary,c=t.score,s=t.createdTime,u=t.contentTag,l=t.commentTag,d=t.canLike,b=t.resourceId,m=t.resourceType,h=Object(f.useContext)(se).showInteractions,p=Oe[i].commentTag,g=p.fontSize,v=p.color,O=p.height,j=p.lineHeight,C=p.marginTop,w="hybrid"===i;return Object(F.c)(y.Flex,{css:{flexDirection:"column"},className:r,children:[c>0&&Object(F.b)(Pe,{score:c}),Object(F.b)(y.Flex,{flexDirection:"row",children:u.map((function(e){return Object(F.b)(Ae,{richText:!0,tagInfo:e,css:{height:"auto",padding:0,fontSize:"11px",lineHeight:"16px",marginTop:"6px","&:first-of-type":{marginLeft:0}}},e.text)}))}),Object(F.c)(y.Flex,{flexDirection:"row",fontSize:g,justifyContent:"space-between",alignItems:"flex-start",height:O,lineHeight:j,mt:C,color:v,children:[Object(F.c)("div",{css:Object.assign(Object.assign({},Object(k.a)(2)),{},{flex:"1 1 auto",lineHeight:"16px",paddingTop:"4px"}),children:[Object(F.c)("span",{children:[Object(Y.toSmartString)(s),Boolean(l.length)&&" · "]}),l.map((function(e){return Object(F.b)(Ae,{tagInfo:e,css:{fontSize:g,paddingLeft:0,paddingRight:0}},e.text)}))]}),h&&Object(F.c)(y.Flex,{css:{flexShrink:0,alignItems:"center",marginLeft:"20px"},children:[Object(F.c)(me,{query:{openEditor:!0,anchorCommentId:t.id,rootCommentId:o,replyAuthorName:t.author.name,resourceId:b,resourceType:m},onClick:function(e){n&&!n.canReply&&n.toast&&(e.preventDefault(),Object(x.a)("ui/showToast").dispatch({text:n.toast}))},children:[w?Object(F.b)(De,{size:20,center:!0}):Object(F.b)(V.a,{size:18,center:!0}),!w&&!a&&Object(F.b)("span",{css:function(e){return{marginLeft:"4px",color:e.colors.GBL05A}},children:"回复"})]}),(!w||d)&&Object(F.b)(Ke,{comment:t,rootCommentId:o})]})]})]})},Ve=function(e){var t=e.comment,n=e.emoticons,o=e.rootCommentId,r=e.uaType,i=t.author,a=t.authorTag,c=t.replyToAuthor,s=t.replyAuthorTag,u=Oe[r].authorTag.fontSize,l=Object(L.b)(),d=(null==l?void 0:l.ZhihuHybrid)||(null==l?void 0:l.Zhihu);return Object(F.b)(y.Flex,{css:{flexDirection:"column"},children:Object(F.b)(w.b,{content:{type:"Comment",id:t.id},children:Object(F.c)(w.f,{as:y.Flex,zaType:"Card",css:{marginTop:"4px"},children:[Object(F.b)(re,{isSecondary:!0,user:i,css:{width:"24px",height:"24px"},badgeSize:13,isHybrid:d}),Object(F.c)(y.Flex,{css:{flex:1,flexDirection:"column",marginLeft:"8px"},children:[Object(F.c)("div",{css:function(e){return{display:"flex",fontSize:u,color:e.colors.GBK03A,alignItems:"center",fontWeight:"bold",lineHeight:"16px"}},children:[Object(F.b)("span",{css:{flexShrink:0},children:i.name}),a.map((function(e){return Object(F.b)(Ae,{tagInfo:e,css:{fontWeight:"normal",flexShrink:0}},e.text)})),c&&Object(F.c)("div",{css:[Object(k.a)(1),{wordBreak:"break-all"}],children:[Object(F.b)(Z.a,{size:12,center:!0,css:function(e){return{marginRight:"4px",fill:e.colors.GBK06A}}}),Object(F.b)("span",{children:c.name}),s.map((function(e){return Object(F.b)(Ae,{tagInfo:e,css:{fontWeight:"normal",display:"inline-block"}},e.text)}))]})]}),Object(F.b)(Ne,{comment:t,emoticons:n,rootCommentId:o,uaType:r,css:function(e){return{marginTop:"4px",color:e.colors.GBK04A}}}),Object(F.b)(Ue,{comment:t,rootCommentId:o,css:{marginTop:"-4px"},uaType:r,isSecondary:!0})]})]})})})},Ze=function(e){var t=e.id,n=e.count,o=e.offsetLeft,r=e.shownCount,i=Object(T.a)().colors,a=Object(f.useContext)(se).viewAllButtonAutoShow;return!n||a&&r===n?null:Object(F.c)(me,{as:y.Text,css:{display:"flex",justifyContent:"flex-start",marginTop:"8px",marginLeft:o},innerStyle:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:"12px",height:"28px",background:i.GBK10A,color:i.GBK03A,padding:"0 10px 0 16px",borderRadius:"14px"},query:{rootCommentId:t},children:[Object(F.c)("span",{children:["查看全部"," ".concat(Object(C.cnNiceNumber)(n)),"条回复"]}),Object(F.b)(W.a,{center:!0,size:18,css:function(e){return{fill:e.colors.GBK03A}}})]})},qe=function(e){var t=e.comments,n=e.count,o=e.emoticons,r=e.rootCommentId,i=e.uaType,a=Object(f.useContext)(se),c=a.showSecondaryComment,s=a.showSecondaryCommentButton;return!c&&!s||0===t.length?null:Object(F.c)(y.Flex,{css:{borderRadius:"8px",flexDirection:"column",marginTop:"6px",marginLeft:"40px"},children:[c&&t.map((function(e){return Object(F.b)(w.b,{content:{type:"Comment",id:e.id},children:Object(F.b)(Ve,{comment:e,emoticons:o,rootCommentId:r,uaType:i})},e.id)})),s&&Object(F.b)(Ze,{id:r,count:n,offsetLeft:c?32:0,shownCount:t.length})]})},We=function(e){var t=e.comment,n=e.editStatus,o=e.showInteractions,r=e.emoticons,i=t.author,a=t.authorTag,c=t.childComments,s=void 0===c?[]:c,u=t.childCommentCount,l=t.id,d=Object(L.b)(),b=(null==d?void 0:d.ZhihuHybrid)||(null==d?void 0:d.Zhihu),m=b?"hybrid":"web",h=Object(f.useContext)(se).commentUnfoldable;return Object(F.c)(y.Flex,{css:{flexDirection:"column"},children:[Object(F.b)(w.b,{content:{type:"Comment",id:t.id},children:Object(F.c)(w.f,{as:y.Flex,zaType:"Card",css:{marginTop:"16px"},children:[Object(F.b)(re,{user:i,isHybrid:b}),Object(F.c)(y.Flex,{css:{flex:1,flexDirection:"column",marginLeft:"10px"},children:[Object(F.b)(Le,{user:i,authorTags:a,uaType:m}),Object(F.b)(Ne,{unfoldable:h,comment:t,emoticons:r,uaType:m}),Object(F.b)(Ue,{comment:t,editStatus:n,showInteractions:o,uaType:m})]})]})}),Object(F.b)(qe,{comments:s,count:u,emoticons:r,rootCommentId:l,uaType:m})]})},Je=function(e){return{marginTop:"20px",color:e.colors.GBK06A,fontSize:"13px",width:"100%",justifyContent:"center",lineHeight:"normal",alignItems:"center"}},Xe=function(e){var t=e.totalCounts,n=e.commentCount,o=e.shownCommentCount,r=e.viewAllButtonAutoShow,i=e.customFooter,a=e.anchorCommentId,c=e.shouldAnchorComment;return o?!r||o<t?Object(F.b)(me,{as:y.Flex,css:Je,query:c&&{anchorCommentId:a},children:i?i(n):Object(F.c)(F.a,{children:[Object(F.b)("span",{css:{height:"18px"},children:"查看全部评论"}),Object(F.b)(W.a,{size:18,center:!0,css:function(e){return{color:e.colors.GBK06A,marginLeft:"4px"}}})]})}):Object(F.b)(y.Flex,{css:Je,children:"没有更多评论了"}):null},Ye=function(e){var t,n,o=e.className,i=e.showInteractions,a=e.resourceType,c=e.resourceId,s=e.currentUserId,u=void 0===s?"":s,l=e.limit,d=e.showCommentInput,b=e.inputPlaceholder,m=e.customHeader,h=e.customFooter,p=e.customCommentClosed,g=e.customNoComments,O=e.scrollToLastOnShowMore,w=e.onCommentChange,I=e.commentType,T=void 0===I?"abstract_comment":I,k=e.onLoad,S=e.onInputShowTips,A=e.defaultUnfoldContent,z=void 0!==A&&A,B=e.viewAllButtonAutoShow,L=void 0!==B&&B,E=e.abParams,N=void 0===E?{}:E,R=Object(f.useState)([]),D=te(r.a,R,2),H=D[0],M=D[1],P=Object(f.useContext)(se),G=P.fetcher,_=P.data,K=P.dispatch,U=Object(j.a)(_),V=Object(v.a)(w),Z=Object(v.a)((function(){G("/api/v4/comment_v5/".concat(a,"s/").concat(c,"/").concat(T),{query:{limit:l}}).then((function(e){return K({type:ue,payload:e})}))}));Object(f.useEffect)(Z,[Z]),Object(f.useEffect)((function(){var e=Object(x.a)("base/onMessage").listen((function(e){var t=e.type,n=e.data;if("comment/listChange"===t){var o=n.status;n.resourceType===a&&String(n.resourceId)===String(c)&&(Z(),V(o))}}));return function(){return e()}}),[]);var q=1===(null==_||null===(t=_.commentStatus)||void 0===t?void 0:t.type);if(Object(f.useEffect)((function(){q||ne().then(M)}),[q]),Object(f.useEffect)((function(){!U&&_&&(null==k||k())}),[U,_,k]),!_)return null;var W=_.counts,J=(W=void 0===W?{}:W).totalCounts,X=W.rootHotCommentCounts,Y=void 0===X?0:X,$=_.data,Q=void 0===$?[]:$,ee=_.editStatus,oe=_.commentStatus,re=void 0===oe?{}:oe;if(N.answer_light&&Y<2)return Object(F.b)(y.Flex,{height:24});if(q)return p||null;var ie,ae,ce=J>0?Object(C.cnNiceNumber)(J):"";return Object(F.c)(y.Flex,{className:o,css:{margin:"0 16px 40px",flexDirection:"column"},children:[m?m(ce):Object(F.b)(y.Box,{color:"GBK02A",css:{fontSize:"15px",fontWeight:500,marginBottom:"16px"},children:"评论 ".concat(ce)}),d&&Object(F.b)(ve,{commentStatus:re,inputPlaceholder:b,emoticons:H,currentUserId:u,onInputShowTips:S}),Q.map((function(e,t){return Object(F.b)(We,{comment:e,editStatus:ee,showInteractions:i,emoticons:H,index:t,defaultUnfoldContent:z},e.id)})),Object(F.b)(Xe,{totalCounts:J,commentCount:ce,shownCommentCount:(ie=Q,ae=0,ie.forEach((function(e){var t=e.childCommentCount;ae+=1,ae+=t})),ae),viewAllButtonAutoShow:L,customFooter:h,anchorCommentId:null===(n=Q[Q.length-1])||void 0===n?void 0:n.id,shouldAnchorComment:O&&Boolean(Q.length)}),0===Q.length&&(g||null)]})};Ye.propTypes={className:h.a.string,showCommentInput:h.a.bool,showSecondaryComment:h.a.bool,showSecondaryCommentButton:h.a.bool,listHeight:h.a.number,maskTransparent:h.a.bool,commentUnfoldable:h.a.bool,resourceType:h.a.string.isRequired,resourceId:h.a.string.isRequired,limit:h.a.number,currentUserId:h.a.string,inputPlaceholder:h.a.string,redirectUrl:h.a.string,customHeader:h.a.func,customFooter:h.a.func,customCommentClosed:h.a.node,customNoComments:h.a.node,onCommentChange:h.a.func,onAllCommentsShow:h.a.func,onLoad:h.a.func,onInputShowTips:h.a.func,commentType:h.a.string,showInteractions:h.a.bool},Ye.defaultProps={showInteractions:!0,showCommentInput:!0,showSecondaryComment:!0,showSecondaryCommentButton:!0,commentUnfoldable:!1,onCommentChange:g.a};var $e=Object(f.forwardRef)((function(e,t){return Object(F.b)(be,Object.assign(Object.assign({},e),{},{children:Object(F.b)(w.b,{block:"Comment",children:Object(F.b)(Ye,Object.assign(Object.assign({},e),{},{ref:t}))})}))}))},1734:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var o=n(0),r=n.n(o),i=n(12),a=Object.assign;function c(e){return r.a.createElement(i.a,a(a({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ThumbFill24","data-old-api":"ThumbFill24"},e),{className:"ZDI ZDI--ThumbFill24"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"}))}function s(e){return r.a.createElement(i.a,a(a({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ThumbFill24","data-old-api":"Like"},e),{className:"Zi Zi--Like"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"}))}},1822:function(e,t,n){"use strict";var o,r=n(30),i=n.n(r),a=n(1),c=n(484),s={wrapper:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{type:"tween",ease:"easeOut",duration:.3}},modal:{from:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{type:"tween",ease:"easeOut",duration:.3}},leave:{opacity:0,y:20,transition:{type:"tween",ease:"easeOut",duration:.3}}}},u=n(29),l=n.n(u),d=n(59),b=n(448),f=n(667),m=n(424);!function(e){e.Default="default",e.Large="large",e.FullPage="fullPage"}(o||(o={}));var h,p=n(385),g=function(e){var t=e.isTopLayer,n=e.variants,o=e.onClick;return Object(a.b)(b.a.div,{css:function(e){return{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:0,backgroundColor:(0,e.colorMod)(e.colors.GBK02B).alpha(.65)}},initial:"from",animate:t?"enter":"leave",exit:"leave",variants:n,onClick:o},void 0)},v=n(1050),O=n(1069),j=Object(v.a)(),x=function(e){var t=e.variants,n=e.maskClosable,o=e.zIndex,r=e.onBackDropClick,i=e.onKeyDown,c=e.children,s=j((function(e){return 1===e&&p.hide()}),(function(e){return 1===e&&p.show()})),u=s.isTopLayer,l=s.unmount;return Object(a.b)(O.a,{onKeyDown:i,children:Object(a.c)(b.a.div,{css:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",zIndex:o,display:"flex",flexDirection:"column",justifyContent:"center",overflowX:"hidden",overflowY:"auto"},style:u?void 0:{backgroundColor:"transparent"},initial:"from",animate:"enter",exit:"leave",onAnimationStart:function(e){"leave"===e&&l()},children:[Object(a.b)(g,{isTopLayer:u,variants:t,onClick:n?r:void 0},void 0),c]},void 0)},void 0)},y=n(105),C=n(485),w=n(432),I=n(875),T=function(e){var t=e.onClick,n=Object(f.a)().colors.GBK99B;return Object(a.b)(I.a,{preset:"outline",css:{position:"absolute",top:"8px",right:"-60px",padding:"12px",border:"0",lineHeight:"normal"},"aria-label":"关闭",onClick:t,children:Object(a.b)(w.a,{size:24,css:{verticalAlign:"top",fill:n}},void 0)},void 0)},k=["children"],S=(h={},l()(h,o.Default,{width:"400px"}),l()(h,o.Large,{width:"536px"}),l()(h,o.FullPage,{width:"688px",height:"calc(100vh - 24px * 2)"}),h),A=Object(b.a)(d.Flex),z=function(e){var t=e.children,n=i()(e,k),r=n.size,c=n.spread,s=n.title,u=n.subtitle,l=n.footer,b=n.closeButton,h=n.buttonGroupOnly,p=n.hotKeyClosable,g=n.maskClosable,v=n.onClose,O=n.onScroll,j=n.transitionProps,w=n.className,I=n.zIndex,z=void 0===I?203:I,B=n.styles,L=void 0===B?{}:B,E=Object(y.a)(v),N=Object(y.a)((function(e){p&&"Escape"===e.key&&v()})),R=Object(f.a)().colors,D=R.GBK02B,H=R.GBK09A,F=!u&&h,M=r===o.FullPage,P=c||M&&!s&&!u;return Object(a.b)(x,{variants:Object(C.a)(j.wrapper),maskClosable:g,onBackDropClick:E,onKeyDown:N,zIndex:z,children:Object(a.c)(A,{flexDirection:"column",mx:"auto",maxHeight:"calc(100vh - 24px * 2)",css:Object.assign(Object.assign({position:"relative",zIndex:1,boxShadow:"0 5px 20px ".concat(Object(m.a)(D).alpha(.1)),boxSizing:"border-box",transition:"max-height .8s ease"},S[r]),{},{"&:focus":{outline:"none"}},L.root),className:w,tabIndex:0,variants:Object(C.a)(j.modal),children:[Object(a.c)(d.Box,{overflow:"auto",bg:"GBK99A",height:M?"100%":"auto",css:Object.assign({borderRadius:"2px"},L.inner),children:[Boolean(s)&&Object(a.b)(d.Text,{as:"h3",mt:"40px",fontSize:F?"20px":"24px",fontWeight:"500",color:"GBK02A",textAlign:"center",className:"Modal-title",css:Object.assign({},L.title),children:s},void 0),Boolean(u)&&Object(a.b)(d.Text,{py:"38px",mt:"4px",fontSize:"14px",lineHeight:1.5,color:"GBL05A",textAlign:"center",css:{a:{textDecoration:"underline"}},className:"Modal-subtitle",children:u},void 0),Object(a.b)(d.Box,{flex:"1",p:M?"0":"0 24px 32px",mt:"24px",lineHeight:1.7,opacity:1,css:Object.assign(Object.assign({},P&&{height:"100%",marginTop:"0"}),L.content),className:"Modal-content",onScroll:O,children:t},void 0),Boolean(l)&&Object(a.b)(d.Box,{p:"16px 24px",fontSize:"13px",lineHeight:"1.7",color:"GBL05A",bg:"GBK10A",css:{borderTop:"1px solid ".concat(H)},className:"Modal-footer",children:l},void 0)]},void 0),b||Object(a.b)(T,{onClick:E},void 0)]},void 0)},void 0)},B=["onExitComplete","children"],L=function(e){var t=e.onExitComplete,n=e.children,o=i()(e,B),r=Boolean(n);return Object(a.b)(c.a,{onExitComplete:t,children:r&&Object(a.b)(z,Object.assign(Object.assign({},o),{},{children:n}),void 0)},void 0)};L.defaultProps={size:"default",spread:!1,buttonGroupOnly:!1,hotKeyClosable:!0,maskClosable:!0,onClose:function(){return null},transitionProps:s};t.a=L},2385:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var o=n(0),r=n.n(o),i=n(12),a=Object.assign;function c(e){return r.a.createElement(i.a,a(a({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ChatBubbleFill24","data-old-api":"ChatBubbleFill24"},e),{className:"ZDI ZDI--ChatBubbleFill24"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z",fillRule:"evenodd",clipRule:"evenodd"}))}function s(e){return r.a.createElement(i.a,a(a({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ChatBubbleFill24","data-old-api":"Comment"},e),{className:"Zi Zi--Comment"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z",fillRule:"evenodd",clipRule:"evenodd"}))}},2396:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){return{position:"relative","&::before":Object.assign({display:"block",content:"' '",position:"absolute",top:"-50%",right:"-50%",bottom:"-50%",left:"-50%",pointerEvents:"none",transform:"scale(0.5, 0.5)"},e)}}},3021:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(10),r=n(129),i=n(591),a=n(281);function c(){var e=!1,t=[],n=new Set,c={subscribe:function(e){return n.add(e),function(){n.delete(e)}},start:function(o,r){if(e){var a=[];return n.forEach((function(e){a.push(Object(i.a)(e,o,{transitionOverride:r}))})),Promise.all(a)}return new Promise((function(e){t.push({animation:[o,r],resolve:e})}))},set:function(t){return Object(r.invariant)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),n.forEach((function(e){Object(a.d)(e,t)}))},stop:function(){n.forEach((function(e){Object(i.b)(e)}))},mount:function(){return e=!0,t.forEach((function(e){var t=e.animation,n=e.resolve;c.start.apply(c,Object(o.__spreadArray)([],Object(o.__read)(t),!1)).then(n)})),function(){e=!1,c.stop()}}};return c}var s=n(0),u=n(138);function l(){var e=Object(u.a)(c);return Object(s.useEffect)(e.mount,[]),e}}}]);
//# sourceMappingURL=main.shared_8c98972b2bc4fe6832562bd755b9fdb76d343d19.8f9885b2c3c1157150f2.js.map